import{_ as g,r as _,o as h,c as u,a as t,t as i,b as y,m as w,F as x,d as v,B as r,C as c,f as d,e as b,g as C}from"./_plugin-vue_export-helper-65a45c99.js";import{d as A}from"./v-money3-f95dca5c.js";const L={components:{money3:A},data(){return{message:"_____",fight:[],fightNo:0,betAmount:0,amounts:[20,50,100,500,1e3,5e3,1e4,"ALL-IN"],total:{meron:0,wala:0},payout:{meron:0,wala:0},percentage:{meron:188,wala:188},player:{points:0,id:"",bets:{meron:0,wala:0}},isDisabled:{open:!1,close:!0,done:!0},isLoading:{open:!1,close:!1,done:!1,cancel:!1},money:{decimal:".",thousands:",",precision:0,masked:!1,shouldRound:!1,disabled:!0},ghost:{meron:0,wala:0},autobots:{meron:0,wala:0}}},mounted(){axios.defaults.headers={"Content-Type":"application/json",Accept:"application/json"},axios.get("api/fight/current").then(e=>e.data).then(e=>{this.fight=e.current,this.message=this.setFightStatus(e.current),this.player.points=e.points,this.player.id=e.id,this.total=e.bets,this.player.bets=e.player}).then(()=>{window.Echo.private("user."+this.player.id).listen("Result",async e=>{e.bet.user.legit&&(e.bet.status=="X"?alert(`Returened ${this.formatMoney(e.bet.amount)} points!`):alert(`Congratulations! You win ${this.formatMoney(e.bet.win_amount)}`)),this.player.points+=e.bet.win_amount,this.clear})}),window.Echo.private("fight").listen("Fight",async e=>{e!=null&&(e.fight.curr?(this.fight=e.fight.curr,this.total.meron=this.total.wala=0,this.player.bets.meron=this.player.bets.wala=0):this.fight=e.fight,this.fight.status==null&&(this.ghost.meron=this.ghost.wala=0),this.message=this.setFightStatus(this.fight))}),window.Echo.private("bet").listen("Bet",async e=>{e.bet.side==="M"?this.total.meron=this.total.meron+e.bet.amount:this.total.wala=this.total.wala+e.bet.amount,e.bet.user_id==this.player.id?(this.player.points-=e.bet.amount,this.betAmount=e.bet.amount,e.bet.side=="M"?this.player.bets.meron+=this.betAmount:this.player.bets.wala+=this.betAmount):e.bet.side=="M"?this.ghost.meron+=e.bet.amount:this.ghost.wala+=e.bet.amount})},watch:{},computed:{totalSum(){return this.total.meron+this.total.wala},meronComm(){return this.total.meron*12/100},walaComm(){return this.total.wala*12/100},meronPercentage(){return(this.totalSum-this.meronComm)/this.total.meron*100},walaPercentage(){return(this.totalSum-this.walaComm)/this.total.wala*100},meronWinAmount(){return this.player.bets.meron*this.meronPercentage/100},walaWinAmount(){return this.player.bets.wala*this.walaPercentage/100}},methods:{formatMoney(e){return isNaN(e)?"0.00":new Intl.NumberFormat("en-US").format(e.toFixed(2))},setFightStatus(e){if(this.fightNo=e.fight_no,e.status==null)return"_____";if(e.status=="O")return"OPEN";if(e.status=="C")return"CLOSE"},betManual(e){this.betAmount=e=="ALL-IN"?this.player.points:e},clear(){this.betAmount=0},topUp(){window.location.href="add-credits"},async revertFight(){Swal.fire({title:"ACTUAL WINNER?",showCancelButton:!0,showCloseButton:!0,showDenyButton:!0,allowOutsideClick:!1,confirmButtonText:"MERON",confirmButtonColor:"red",denyButtonText:"WALA",denyButtonColor:"blue",cancelButtonText:"DRAW",cancelButtonColor:"green",allowEscapeKey:!1,showLoaderOnConfirm:!0}).then(async e=>{let s,a=prompt("Fight no.");if(a==null||a=="")return;e.isConfirmed?s="M":e.isDenied?s="W":s="D";const{data:m}=await axios.post("/fight/revertresult",{fight_no:a,result:s});alert(m.message)}).then(()=>this.isLoading.cancel=!1)},async updateFight(e,s=null){try{e=="O"&&(this.isLoading.open=!0),e=="C"&&(this.isLoading.close=!0);const{data:a}=await axios.post("/fight/update-status",{status:e,result:s});this.message=e==="D"?this.setFightStatus(a.data):this.setFightStatus(a),e=="O"&&(this.isLoading.open=!1),e=="C"&&(this.isLoading.close=!1);return}catch(a){console.error(a)}},async addBet(e){try{if(this.message!=="OPEN"){alert("Cannot Bet");return}if(this.betAmount<10){alert("Minimum bet is 10.00");return}if(this.betAmount>this.player.points){alert("Insuficient Points");return}if(!confirm(`Bet ${this.betAmount}?`))return;const{data:s}=await axios.post("/bet/add",{fight_no:this.fightNo,amount:this.betAmount,side:e});s.status=="OK"&&this.clear()}catch(s){alert(s.response.data.error)}}}},M={class:"card bet-boxed-area mb-1"},k={class:"mx-2"},B={class:"grid grid-cols-2 bg-os_bg"},E={class:"px-2 py-1 border border-black"},N={class:"font-extrabold text-center m-2 font-tally text-red-700 text-2xl"},F={class:"px-2 py-1 border border-black"},O={class:"font-extrabold text-center m-2 font-tally text-blue-700 text-2xl"},S={class:"bet-bg-head items-center grid grid-cols-3"},P=t("b",{class:"text-lg"},"FIGHT # ",-1),D=d(),T={id:"fight-no",class:"text-lg"},W={class:"text-center"},R={class:"btn btn-block btn-sm gradient-status-close btn-lg vue-4s"},z={class:"nav-credits-wr w-25 w-sm-50 gold-text ml-auto"},V={href:"/deposit",class:"d-flex align-items-center justify-content-end gp-credits"},I=t("div",{class:"bg-success add-btn p-1"},[t("svg",{class:"svg-inline--fa fa-coins fa-w-16","data-prefix":"fas","data-icon":"coins",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},[t("path",{fill:"currentColor",d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"})])],-1),U={class:"credits-data d-flex"},j={class:"pr-2 gp-yellow-text font-weight-bold",id:"operator-pts"},Y={class:"mx-2"},G=b('<div class="grid grid-cols-2"><div class="border justify-center items-center flex bg-meroncolor"><h3 class="bet-button-red-full">MERON</h3></div><div class="border justify-center items-center flex bg-walacolor"><h3 class="bet-button-blue-full">WALA</h3></div></div>',1),K={class:"grid grid-cols-2 bg-os_bg"},H={class:"px-2 py-1 border border-black"},X={class:"font-extrabold text-center m-2 font-tally text-2xl"},q={class:"font-bold text-black text-center m-2 font-tally"},J={class:"flex justify-center items-center"},Q={class:"font-bold text-drawcolor text-center text-sm"},Z={class:"text-player-bet"},$=d(" = "),tt={class:"text-player-win"},et={class:"px-2 py-1 border border-black"},st={class:"font-extrabold text-center m-2 font-tally text-2xl"},ot={class:"font-bold text-black text-center m-2 font-tally"},nt={class:"flex justify-center items-center"},it={class:"font-bold text-drawcolor text-center text-sm"},lt={class:"text-player-bet"},at=d(" = "),rt={class:"text-player-win"},ct={class:"grid grid-cols-2 bg-os_bg"},dt={class:"px-1 py-1"},ht=t("i",{class:"fa-solid fa-circle-plus text-sm mr-1"},null,-1),ut=d(" BET MERON "),mt=[ht,ut],bt={class:"px-1 py-1"},ft=t("i",{class:"fa-solid fa-circle-plus text-sm mr-1"},null,-1),pt=d(" BET WALA"),gt=[ft,pt],_t={class:"col-md-12"},yt={class:"input-group px-4 py-2"},wt={class:"input-group-append"},xt={class:"col-md-12"},vt={class:"amounts-bet-btn py-2 flex-wrap"},Ct=["onClick"],At=b('<div class="self-end mr-2"><a href="javascript:void(0)" data-id="1" id="settings-btn" class="btn btn-link text-primary btn-icon btn-sm play"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16"><path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"></path><path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"></path></svg></a></div>',1),Lt={class:"flex gap-2 mb-3",style:{display:"flex","justify-content":"center","flex-wrap":"nowrap"}},Mt=["disabled"],kt=["disabled"],Bt=["disabled"],Et=["disabled"],Nt=t("span",null,"REVERT",-1),Ft=[Nt];function Ot(e,s,a,m,o,n){const f=_("money3");return h(),u("div",M,[t("div",k,[t("div",B,[t("div",E,[t("div",null,[t("h3",N,i(n.formatMoney(o.ghost.meron)),1)])]),t("div",F,[t("div",null,[t("h3",O,i(n.formatMoney(o.ghost.wala)),1)])])])]),t("div",S,[t("h6",null,[P,D,t("b",T,i(o.fightNo),1)]),t("div",W,[t("span",R,i(o.message),1)]),t("div",z,[t("a",V,[I,t("div",U,[t("span",j,i(n.formatMoney(o.player.points)),1)])])])]),t("div",Y,[G,t("div",K,[t("div",H,[t("div",null,[t("h3",X,i(n.formatMoney(o.total.meron)),1),t("h3",q," PAYOUT = "+i(n.formatMoney(n.meronPercentage)),1),t("div",null,[t("div",J,[t("h3",Q,[t("span",Z,i(n.formatMoney(o.player.bets.meron)),1),$,t("span",tt,i(n.formatMoney(n.meronWinAmount)),1)])])])])]),t("div",et,[t("div",null,[t("h3",st,i(n.formatMoney(o.total.wala)),1),t("h3",ot," PAYOUT = "+i(n.formatMoney(n.walaPercentage)),1),t("div",null,[t("div",nt,[t("h3",it,[t("span",lt,i(n.formatMoney(o.player.bets.wala)),1),at,t("span",rt,i(n.formatMoney(n.walaWinAmount)),1)])])])])])])]),t("div",ct,[t("div",dt,[t("button",{type:"button",color:"#00D7E7",onClick:s[0]||(s[0]=l=>n.addBet("M")),class:"button text-ellipsis overflow-clip uppercase bg-os_meron_btn text-sm font-bold is-info is-fullwidth"},mt)]),t("div",bt,[t("button",{type:"button",color:"#00D7E7",onClick:s[1]||(s[1]=l=>n.addBet("W")),class:"button text-ellipsis overflow-clip uppercase bg-os_wala_btn text-sm font-bold is-info is-fullwidth"},gt)])]),t("div",_t,[t("div",yt,[y(f,w({class:"form-control","model-modifiers":{number:!0},modelValue:o.betAmount,"onUpdate:modelValue":s[2]||(s[2]=l=>o.betAmount=l)},o.money),null,16,["modelValue"]),t("div",wt,[t("button",{onClick:s[3]||(s[3]=(...l)=>n.clear&&n.clear(...l)),class:"input-group-text"},"CLEAR")])])]),t("div",xt,[t("div",vt,[(h(!0),u(x,null,v(o.amounts,(l,p)=>(h(),u("button",{key:p,onClick:Dt=>n.betManual(l),class:"btn btn-success btn-sm m-1"},i(l),9,Ct))),128))])]),At,t("div",Lt,[t("button",{onClick:s[4]||(s[4]=l=>n.updateFight("O")),disabled:o.isDisabled.open,class:"btn btn-success"},[r(t("span",null,"OPEN",512),[[c,!o.isLoading.open]]),r(t("span",null,"Processing...",512),[[c,o.isLoading.open]])],8,Mt),t("button",{onClick:s[5]||(s[5]=l=>n.updateFight("C")),disabled:o.isDisabled.close,class:"btn btn-danger"},[r(t("span",null,"CLOSE",512),[[c,!o.isLoading.close]]),r(t("span",null,"Processing...",512),[[c,o.isLoading.close]])],8,kt),t("button",{onClick:s[6]||(s[6]=l=>e.doneFight()),disabled:o.isDisabled.done,class:"btn btn-secondary"},[r(t("span",null,"DONE",512),[[c,!o.isLoading.done]]),r(t("span",null,"Loading...",512),[[c,o.isLoading.done]])],8,Bt),r(t("button",{onClick:s[7]||(s[7]=l=>e.cancelFight()),disabled:o.isLoading.cancel,class:"btn btn-primary"},[r(t("span",null,"CANCEL",512),[[c,!o.isLoading.cancel]]),r(t("span",null,"Loading...",512),[[c,o.isLoading.cancel]])],8,Et),[[c,!o.isLoading.cancel]]),t("button",{onClick:s[8]||(s[8]=l=>n.revertFight()),class:"btn btn-warning"},Ft)])])}const St=g(L,[["render",Ot]]),Pt=C(St);Pt.mount("#ghost-component");
