import{p as Js,e as Qs,a as Zs,c as ti,b as ei,d as ha,f as la,g as ua,h as fa,i as da,j as pa,k as _a,l as ga,m as ma,n as ba,o as va,q as wn,r as ya,s as Ea,t as wa,u as Ta,v as Ca,w as Aa,x as Sa,y as ka,z as Oa,A as Na,B as La,C as Pa,D as Ia,E as Ra,F as Da,G as xa,H as $a,I as Ma,J as Ba,K as Ha}from"./popper-b924b727.js";import{a as Va}from"./axios-28bc18a3.js";import{g as ja}from"./_commonjsHelpers-de833af9.js";var Ua=[Qs,Zs,ti,ei],qa=Js({defaultModifiers:Ua});const ni=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ha,afterRead:la,afterWrite:ua,applyStyles:ei,arrow:fa,auto:da,basePlacements:pa,beforeMain:_a,beforeRead:ga,beforeWrite:ma,bottom:ba,clippingParents:va,computeStyles:ti,createPopper:wn,createPopperBase:ya,createPopperLite:qa,detectOverflow:Ea,end:wa,eventListeners:Qs,flip:Ta,hide:Ca,left:Aa,main:Sa,modifierPhases:ka,offset:Oa,placements:Na,popper:La,popperGenerator:Js,popperOffsets:Zs,preventOverflow:Pa,read:Ia,reference:Ra,right:Da,start:xa,top:$a,variationPlacements:Ma,viewport:Ba,write:Ha},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Fa=1e6,Wa=1e3,un="transitionend",za=i=>i==null?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase(),Ka=i=>{do i+=Math.floor(Math.random()*Fa);while(document.getElementById(i));return i},si=i=>{let t=i.getAttribute("data-bs-target");if(!t||t==="#"){let e=i.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t},ii=i=>{const t=si(i);return t&&document.querySelector(t)?t:null},lt=i=>{const t=si(i);return t?document.querySelector(t):null},Ya=i=>{if(!i)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(i);const s=Number.parseFloat(t),a=Number.parseFloat(e);return!s&&!a?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*Wa)},ri=i=>{i.dispatchEvent(new Event(un))},ut=i=>!i||typeof i!="object"?!1:(typeof i.jquery<"u"&&(i=i[0]),typeof i.nodeType<"u"),gt=i=>ut(i)?i.jquery?i[0]:i:typeof i=="string"&&i.length>0?document.querySelector(i):null,Bt=i=>{if(!ut(i)||i.getClientRects().length===0)return!1;const t=getComputedStyle(i).getPropertyValue("visibility")==="visible",e=i.closest("details:not([open])");if(!e)return t;if(e!==i){const s=i.closest("summary");if(s&&s.parentNode!==e||s===null)return!1}return t},mt=i=>!i||i.nodeType!==Node.ELEMENT_NODE||i.classList.contains("disabled")?!0:typeof i.disabled<"u"?i.disabled:i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false",oi=i=>{if(!document.documentElement.attachShadow)return null;if(typeof i.getRootNode=="function"){const t=i.getRootNode();return t instanceof ShadowRoot?t:null}return i instanceof ShadowRoot?i:i.parentNode?oi(i.parentNode):null},Te=()=>{},Qt=i=>{i.offsetHeight},ai=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Xe=[],Xa=i=>{document.readyState==="loading"?(Xe.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Xe)t()}),Xe.push(i)):i()},X=()=>document.documentElement.dir==="rtl",G=i=>{Xa(()=>{const t=ai();if(t){const e=i.NAME,s=t.fn[e];t.fn[e]=i.jQueryInterface,t.fn[e].Constructor=i,t.fn[e].noConflict=()=>(t.fn[e]=s,i.jQueryInterface)}})},ht=i=>{typeof i=="function"&&i()},ci=(i,t,e=!0)=>{if(!e){ht(i);return}const s=5,a=Ya(t)+s;let h=!1;const u=({target:d})=>{d===t&&(h=!0,t.removeEventListener(un,u),ht(i))};t.addEventListener(un,u),setTimeout(()=>{h||ri(t)},a)},Tn=(i,t,e,s)=>{const a=i.length;let h=i.indexOf(t);return h===-1?!e&&s?i[a-1]:i[0]:(h+=e?1:-1,s&&(h=(h+a)%a),i[Math.max(0,Math.min(h,a-1))])},Ga=/[^.]*(?=\..*)\.|.*/,Ja=/\..*/,Qa=/::\d+$/,Ge={};let us=1;const hi={mouseenter:"mouseover",mouseleave:"mouseout"},Za=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function li(i,t){return t&&`${t}::${us++}`||i.uidEvent||us++}function ui(i){const t=li(i);return i.uidEvent=t,Ge[t]=Ge[t]||{},Ge[t]}function tc(i,t){return function e(s){return Cn(s,{delegateTarget:i}),e.oneOff&&p.off(i,s.type,t),t.apply(i,[s])}}function ec(i,t,e){return function s(a){const h=i.querySelectorAll(t);for(let{target:u}=a;u&&u!==this;u=u.parentNode)for(const d of h)if(d===u)return Cn(a,{delegateTarget:u}),s.oneOff&&p.off(i,a.type,t,e),e.apply(u,[a])}}function fi(i,t,e=null){return Object.values(i).find(s=>s.callable===t&&s.delegationSelector===e)}function di(i,t,e){const s=typeof t=="string",a=s?e:t||e;let h=pi(i);return Za.has(h)||(h=i),[s,a,h]}function fs(i,t,e,s,a){if(typeof t!="string"||!i)return;let[h,u,d]=di(t,e,s);t in hi&&(u=(P=>function(E){if(!E.relatedTarget||E.relatedTarget!==E.delegateTarget&&!E.delegateTarget.contains(E.relatedTarget))return P.call(this,E)})(u));const _=ui(i),L=_[d]||(_[d]={}),y=fi(L,u,h?e:null);if(y){y.oneOff=y.oneOff&&a;return}const T=li(u,t.replace(Ga,"")),w=h?ec(i,e,u):tc(i,u);w.delegationSelector=h?e:null,w.callable=u,w.oneOff=a,w.uidEvent=T,L[T]=w,i.addEventListener(d,w,h)}function fn(i,t,e,s,a){const h=fi(t[e],s,a);h&&(i.removeEventListener(e,h,!!a),delete t[e][h.uidEvent])}function nc(i,t,e,s){const a=t[e]||{};for(const h of Object.keys(a))if(h.includes(s)){const u=a[h];fn(i,t,e,u.callable,u.delegationSelector)}}function pi(i){return i=i.replace(Ja,""),hi[i]||i}const p={on(i,t,e,s){fs(i,t,e,s,!1)},one(i,t,e,s){fs(i,t,e,s,!0)},off(i,t,e,s){if(typeof t!="string"||!i)return;const[a,h,u]=di(t,e,s),d=u!==t,_=ui(i),L=_[u]||{},y=t.startsWith(".");if(typeof h<"u"){if(!Object.keys(L).length)return;fn(i,_,u,h,a?e:null);return}if(y)for(const T of Object.keys(_))nc(i,_,T,t.slice(1));for(const T of Object.keys(L)){const w=T.replace(Qa,"");if(!d||t.includes(w)){const k=L[T];fn(i,_,u,k.callable,k.delegationSelector)}}},trigger(i,t,e){if(typeof t!="string"||!i)return null;const s=ai(),a=pi(t),h=t!==a;let u=null,d=!0,_=!0,L=!1;h&&s&&(u=s.Event(t,e),s(i).trigger(u),d=!u.isPropagationStopped(),_=!u.isImmediatePropagationStopped(),L=u.isDefaultPrevented());let y=new Event(t,{bubbles:d,cancelable:!0});return y=Cn(y,e),L&&y.preventDefault(),_&&i.dispatchEvent(y),y.defaultPrevented&&u&&u.preventDefault(),y}};function Cn(i,t){for(const[e,s]of Object.entries(t||{}))try{i[e]=s}catch{Object.defineProperty(i,e,{configurable:!0,get(){return s}})}return i}const _t=new Map,Je={set(i,t,e){_t.has(i)||_t.set(i,new Map);const s=_t.get(i);if(!s.has(t)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(t,e)},get(i,t){return _t.has(i)&&_t.get(i).get(t)||null},remove(i,t){if(!_t.has(i))return;const e=_t.get(i);e.delete(t),e.size===0&&_t.delete(i)}};function ds(i){if(i==="true")return!0;if(i==="false")return!1;if(i===Number(i).toString())return Number(i);if(i===""||i==="null")return null;if(typeof i!="string")return i;try{return JSON.parse(decodeURIComponent(i))}catch{return i}}function Qe(i){return i.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const ft={setDataAttribute(i,t,e){i.setAttribute(`data-bs-${Qe(t)}`,e)},removeDataAttribute(i,t){i.removeAttribute(`data-bs-${Qe(t)}`)},getDataAttributes(i){if(!i)return{};const t={},e=Object.keys(i.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of e){let a=s.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1,a.length),t[a]=ds(i.dataset[s])}return t},getDataAttribute(i,t){return ds(i.getAttribute(`data-bs-${Qe(t)}`))}};class Zt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const s=ut(e)?ft.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...ut(e)?ft.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const s of Object.keys(e)){const a=e[s],h=t[s],u=ut(h)?"element":za(h);if(!new RegExp(a).test(u))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${u}" but expected type "${a}".`)}}}const sc="5.2.3";class Z extends Zt{constructor(t,e){super(),t=gt(t),t&&(this._element=t,this._config=this._getConfig(e),Je.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Je.remove(this._element,this.constructor.DATA_KEY),p.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,s=!0){ci(t,e,s)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Je.get(gt(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return sc}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Ne=(i,t="hide")=>{const e=`click.dismiss${i.EVENT_KEY}`,s=i.NAME;p.on(document,e,`[data-bs-dismiss="${s}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),mt(this))return;const h=lt(this)||this.closest(`.${s}`);i.getOrCreateInstance(h)[t]()})},ic="alert",rc="bs.alert",_i=`.${rc}`,oc=`close${_i}`,ac=`closed${_i}`,cc="fade",hc="show";class Le extends Z{static get NAME(){return ic}close(){if(p.trigger(this._element,oc).defaultPrevented)return;this._element.classList.remove(hc);const e=this._element.classList.contains(cc);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),p.trigger(this._element,ac),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Le.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Ne(Le,"close");G(Le);const lc="button",uc="bs.button",fc=`.${uc}`,dc=".data-api",pc="active",ps='[data-bs-toggle="button"]',_c=`click${fc}${dc}`;class Pe extends Z{static get NAME(){return lc}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(pc))}static jQueryInterface(t){return this.each(function(){const e=Pe.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}p.on(document,_c,ps,i=>{i.preventDefault();const t=i.target.closest(ps);Pe.getOrCreateInstance(t).toggle()});G(Pe);const O={find(i,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,i))},findOne(i,t=document.documentElement){return Element.prototype.querySelector.call(t,i)},children(i,t){return[].concat(...i.children).filter(e=>e.matches(t))},parents(i,t){const e=[];let s=i.parentNode.closest(t);for(;s;)e.push(s),s=s.parentNode.closest(t);return e},prev(i,t){let e=i.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(i,t){let e=i.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(i){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,i).filter(e=>!mt(e)&&Bt(e))}},gc="swipe",Ht=".bs.swipe",mc=`touchstart${Ht}`,bc=`touchmove${Ht}`,vc=`touchend${Ht}`,yc=`pointerdown${Ht}`,Ec=`pointerup${Ht}`,wc="touch",Tc="pen",Cc="pointer-event",Ac=40,Sc={endCallback:null,leftCallback:null,rightCallback:null},kc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ce extends Zt{constructor(t,e){super(),this._element=t,!(!t||!Ce.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Sc}static get DefaultType(){return kc}static get NAME(){return gc}dispose(){p.off(this._element,Ht)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),ht(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Ac)return;const e=t/this._deltaX;this._deltaX=0,e&&ht(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(p.on(this._element,yc,t=>this._start(t)),p.on(this._element,Ec,t=>this._end(t)),this._element.classList.add(Cc)):(p.on(this._element,mc,t=>this._start(t)),p.on(this._element,bc,t=>this._move(t)),p.on(this._element,vc,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Tc||t.pointerType===wc)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Oc="carousel",Nc="bs.carousel",vt=`.${Nc}`,gi=".data-api",Lc="ArrowLeft",Pc="ArrowRight",Ic=500,zt="next",Lt="prev",It="left",be="right",Rc=`slide${vt}`,Ze=`slid${vt}`,Dc=`keydown${vt}`,xc=`mouseenter${vt}`,$c=`mouseleave${vt}`,Mc=`dragstart${vt}`,Bc=`load${vt}${gi}`,Hc=`click${vt}${gi}`,mi="carousel",ce="active",Vc="slide",jc="carousel-item-end",Uc="carousel-item-start",qc="carousel-item-next",Fc="carousel-item-prev",bi=".active",vi=".carousel-item",Wc=bi+vi,zc=".carousel-item img",Kc=".carousel-indicators",Yc="[data-bs-slide], [data-bs-slide-to]",Xc='[data-bs-ride="carousel"]',Gc={[Lc]:be,[Pc]:It},Jc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Qc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class te extends Z{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=O.findOne(Kc,this._element),this._addEventListeners(),this._config.ride===mi&&this.cycle()}static get Default(){return Jc}static get DefaultType(){return Qc}static get NAME(){return Oc}next(){this._slide(zt)}nextWhenVisible(){!document.hidden&&Bt(this._element)&&this.next()}prev(){this._slide(Lt)}pause(){this._isSliding&&ri(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){p.one(this._element,Ze,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){p.one(this._element,Ze,()=>this.to(t));return}const s=this._getItemIndex(this._getActive());if(s===t)return;const a=t>s?zt:Lt;this._slide(a,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&p.on(this._element,Dc,t=>this._keydown(t)),this._config.pause==="hover"&&(p.on(this._element,xc,()=>this.pause()),p.on(this._element,$c,()=>this._maybeEnableCycle())),this._config.touch&&Ce.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of O.find(zc,this._element))p.on(s,Mc,a=>a.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(It)),rightCallback:()=>this._slide(this._directionToOrder(be)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ic+this._config.interval))}};this._swipeHelper=new Ce(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=Gc[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=O.findOne(bi,this._indicatorsElement);e.classList.remove(ce),e.removeAttribute("aria-current");const s=O.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);s&&(s.classList.add(ce),s.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const s=this._getActive(),a=t===zt,h=e||Tn(this._getItems(),s,a,this._config.wrap);if(h===s)return;const u=this._getItemIndex(h),d=k=>p.trigger(this._element,k,{relatedTarget:h,direction:this._orderToDirection(t),from:this._getItemIndex(s),to:u});if(d(Rc).defaultPrevented||!s||!h)return;const L=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(u),this._activeElement=h;const y=a?Uc:jc,T=a?qc:Fc;h.classList.add(T),Qt(h),s.classList.add(y),h.classList.add(y);const w=()=>{h.classList.remove(y,T),h.classList.add(ce),s.classList.remove(ce,T,y),this._isSliding=!1,d(Ze)};this._queueCallback(w,s,this._isAnimated()),L&&this.cycle()}_isAnimated(){return this._element.classList.contains(Vc)}_getActive(){return O.findOne(Wc,this._element)}_getItems(){return O.find(vi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return X()?t===It?Lt:zt:t===It?zt:Lt}_orderToDirection(t){return X()?t===Lt?It:be:t===Lt?be:It}static jQueryInterface(t){return this.each(function(){const e=te.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}p.on(document,Hc,Yc,function(i){const t=lt(this);if(!t||!t.classList.contains(mi))return;i.preventDefault();const e=te.getOrCreateInstance(t),s=this.getAttribute("data-bs-slide-to");if(s){e.to(s),e._maybeEnableCycle();return}if(ft.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});p.on(window,Bc,()=>{const i=O.find(Xc);for(const t of i)te.getOrCreateInstance(t)});G(te);const Zc="collapse",th="bs.collapse",ee=`.${th}`,eh=".data-api",nh=`show${ee}`,sh=`shown${ee}`,ih=`hide${ee}`,rh=`hidden${ee}`,oh=`click${ee}${eh}`,tn="show",xt="collapse",he="collapsing",ah="collapsed",ch=`:scope .${xt} .${xt}`,hh="collapse-horizontal",lh="width",uh="height",fh=".collapse.show, .collapse.collapsing",dn='[data-bs-toggle="collapse"]',dh={parent:null,toggle:!0},ph={parent:"(null|element)",toggle:"boolean"};class Gt extends Z{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const s=O.find(dn);for(const a of s){const h=ii(a),u=O.find(h).filter(d=>d===this._element);h!==null&&u.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return dh}static get DefaultType(){return ph}static get NAME(){return Zc}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(fh).filter(d=>d!==this._element).map(d=>Gt.getOrCreateInstance(d,{toggle:!1}))),t.length&&t[0]._isTransitioning||p.trigger(this._element,nh).defaultPrevented)return;for(const d of t)d.hide();const s=this._getDimension();this._element.classList.remove(xt),this._element.classList.add(he),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(he),this._element.classList.add(xt,tn),this._element.style[s]="",p.trigger(this._element,sh)},u=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(a,this._element,!0),this._element.style[s]=`${this._element[u]}px`}hide(){if(this._isTransitioning||!this._isShown()||p.trigger(this._element,ih).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Qt(this._element),this._element.classList.add(he),this._element.classList.remove(xt,tn);for(const a of this._triggerArray){const h=lt(a);h&&!this._isShown(h)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(he),this._element.classList.add(xt),p.trigger(this._element,rh)};this._element.style[e]="",this._queueCallback(s,this._element,!0)}_isShown(t=this._element){return t.classList.contains(tn)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=gt(t.parent),t}_getDimension(){return this._element.classList.contains(hh)?lh:uh}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(dn);for(const e of t){const s=lt(e);s&&this._addAriaAndCollapsedClass([e],this._isShown(s))}}_getFirstLevelChildren(t){const e=O.find(ch,this._config.parent);return O.find(t,this._config.parent).filter(s=>!e.includes(s))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const s of t)s.classList.toggle(ah,!e),s.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const s=Gt.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}p.on(document,oh,dn,function(i){(i.target.tagName==="A"||i.delegateTarget&&i.delegateTarget.tagName==="A")&&i.preventDefault();const t=ii(this),e=O.find(t);for(const s of e)Gt.getOrCreateInstance(s,{toggle:!1}).toggle()});G(Gt);const _s="dropdown",_h="bs.dropdown",kt=`.${_h}`,An=".data-api",gh="Escape",gs="Tab",mh="ArrowUp",ms="ArrowDown",bh=2,vh=`hide${kt}`,yh=`hidden${kt}`,Eh=`show${kt}`,wh=`shown${kt}`,yi=`click${kt}${An}`,Ei=`keydown${kt}${An}`,Th=`keyup${kt}${An}`,Rt="show",Ch="dropup",Ah="dropend",Sh="dropstart",kh="dropup-center",Oh="dropdown-center",At='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Nh=`${At}.${Rt}`,ve=".dropdown-menu",Lh=".navbar",Ph=".navbar-nav",Ih=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Rh=X()?"top-end":"top-start",Dh=X()?"top-start":"top-end",xh=X()?"bottom-end":"bottom-start",$h=X()?"bottom-start":"bottom-end",Mh=X()?"left-start":"right-start",Bh=X()?"right-start":"left-start",Hh="top",Vh="bottom",jh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Uh={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class et extends Z{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=O.next(this._element,ve)[0]||O.prev(this._element,ve)[0]||O.findOne(ve,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return jh}static get DefaultType(){return Uh}static get NAME(){return _s}toggle(){return this._isShown()?this.hide():this.show()}show(){if(mt(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!p.trigger(this._element,Eh,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Ph))for(const s of[].concat(...document.body.children))p.on(s,"mouseover",Te);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Rt),this._element.classList.add(Rt),p.trigger(this._element,wh,t)}}hide(){if(mt(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!p.trigger(this._element,vh,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))p.off(s,"mouseover",Te);this._popper&&this._popper.destroy(),this._menu.classList.remove(Rt),this._element.classList.remove(Rt),this._element.setAttribute("aria-expanded","false"),ft.removeDataAttribute(this._menu,"popper"),p.trigger(this._element,yh,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!ut(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${_s.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof ni>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:ut(this._config.reference)?t=gt(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=wn(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Rt)}_getPlacement(){const t=this._parent;if(t.classList.contains(Ah))return Mh;if(t.classList.contains(Sh))return Bh;if(t.classList.contains(kh))return Hh;if(t.classList.contains(Oh))return Vh;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Ch)?e?Dh:Rh:e?$h:xh}_detectNavbar(){return this._element.closest(Lh)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ft.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const s=O.find(Ih,this._menu).filter(a=>Bt(a));s.length&&Tn(s,e,t===ms,!s.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=et.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===bh||t.type==="keyup"&&t.key!==gs)return;const e=O.find(Nh);for(const s of e){const a=et.getInstance(s);if(!a||a._config.autoClose===!1)continue;const h=t.composedPath(),u=h.includes(a._menu);if(h.includes(a._element)||a._config.autoClose==="inside"&&!u||a._config.autoClose==="outside"&&u||a._menu.contains(t.target)&&(t.type==="keyup"&&t.key===gs||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const d={relatedTarget:a._element};t.type==="click"&&(d.clickEvent=t),a._completeHide(d)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),s=t.key===gh,a=[mh,ms].includes(t.key);if(!a&&!s||e&&!s)return;t.preventDefault();const h=this.matches(At)?this:O.prev(this,At)[0]||O.next(this,At)[0]||O.findOne(At,t.delegateTarget.parentNode),u=et.getOrCreateInstance(h);if(a){t.stopPropagation(),u.show(),u._selectMenuItem(t);return}u._isShown()&&(t.stopPropagation(),u.hide(),h.focus())}}p.on(document,Ei,At,et.dataApiKeydownHandler);p.on(document,Ei,ve,et.dataApiKeydownHandler);p.on(document,yi,et.clearMenus);p.on(document,Th,et.clearMenus);p.on(document,yi,At,function(i){i.preventDefault(),et.getOrCreateInstance(this).toggle()});G(et);const bs=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",vs=".sticky-top",le="padding-right",ys="margin-right";class pn{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,le,e=>e+t),this._setElementAttributes(bs,le,e=>e+t),this._setElementAttributes(vs,ys,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,le),this._resetElementAttributes(bs,le),this._resetElementAttributes(vs,ys)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,s){const a=this.getWidth(),h=u=>{if(u!==this._element&&window.innerWidth>u.clientWidth+a)return;this._saveInitialAttribute(u,e);const d=window.getComputedStyle(u).getPropertyValue(e);u.style.setProperty(e,`${s(Number.parseFloat(d))}px`)};this._applyManipulationCallback(t,h)}_saveInitialAttribute(t,e){const s=t.style.getPropertyValue(e);s&&ft.setDataAttribute(t,e,s)}_resetElementAttributes(t,e){const s=a=>{const h=ft.getDataAttribute(a,e);if(h===null){a.style.removeProperty(e);return}ft.removeDataAttribute(a,e),a.style.setProperty(e,h)};this._applyManipulationCallback(t,s)}_applyManipulationCallback(t,e){if(ut(t)){e(t);return}for(const s of O.find(t,this._element))e(s)}}const wi="backdrop",qh="fade",Es="show",ws=`mousedown.bs.${wi}`,Fh={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Wh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ti extends Zt{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Fh}static get DefaultType(){return Wh}static get NAME(){return wi}show(t){if(!this._config.isVisible){ht(t);return}this._append();const e=this._getElement();this._config.isAnimated&&Qt(e),e.classList.add(Es),this._emulateAnimation(()=>{ht(t)})}hide(t){if(!this._config.isVisible){ht(t);return}this._getElement().classList.remove(Es),this._emulateAnimation(()=>{this.dispose(),ht(t)})}dispose(){this._isAppended&&(p.off(this._element,ws),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(qh),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=gt(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),p.on(t,ws,()=>{ht(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){ci(t,this._getElement(),this._config.isAnimated)}}const zh="focustrap",Kh="bs.focustrap",Ae=`.${Kh}`,Yh=`focusin${Ae}`,Xh=`keydown.tab${Ae}`,Gh="Tab",Jh="forward",Ts="backward",Qh={autofocus:!0,trapElement:null},Zh={autofocus:"boolean",trapElement:"element"};class Ci extends Zt{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Qh}static get DefaultType(){return Zh}static get NAME(){return zh}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),p.off(document,Ae),p.on(document,Yh,t=>this._handleFocusin(t)),p.on(document,Xh,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,p.off(document,Ae))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const s=O.focusableChildren(e);s.length===0?e.focus():this._lastTabNavDirection===Ts?s[s.length-1].focus():s[0].focus()}_handleKeydown(t){t.key===Gh&&(this._lastTabNavDirection=t.shiftKey?Ts:Jh)}}const tl="modal",el="bs.modal",tt=`.${el}`,nl=".data-api",sl="Escape",il=`hide${tt}`,rl=`hidePrevented${tt}`,Ai=`hidden${tt}`,Si=`show${tt}`,ol=`shown${tt}`,al=`resize${tt}`,cl=`click.dismiss${tt}`,hl=`mousedown.dismiss${tt}`,ll=`keydown.dismiss${tt}`,ul=`click${tt}${nl}`,Cs="modal-open",fl="fade",As="show",en="modal-static",dl=".modal.show",pl=".modal-dialog",_l=".modal-body",gl='[data-bs-toggle="modal"]',ml={backdrop:!0,focus:!0,keyboard:!0},bl={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class $t extends Z{constructor(t,e){super(t,e),this._dialog=O.findOne(pl,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new pn,this._addEventListeners()}static get Default(){return ml}static get DefaultType(){return bl}static get NAME(){return tl}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||p.trigger(this._element,Si,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Cs),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||p.trigger(this._element,il).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(As),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const t of[window,this._dialog])p.off(t,tt);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ti({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ci({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=O.findOne(_l,this._dialog);e&&(e.scrollTop=0),Qt(this._element),this._element.classList.add(As);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,p.trigger(this._element,ol,{relatedTarget:t})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){p.on(this._element,ll,t=>{if(t.key===sl){if(this._config.keyboard){t.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),p.on(window,al,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),p.on(this._element,hl,t=>{p.one(this._element,cl,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Cs),this._resetAdjustments(),this._scrollBar.reset(),p.trigger(this._element,Ai)})}_isAnimated(){return this._element.classList.contains(fl)}_triggerBackdropTransition(){if(p.trigger(this._element,rl).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(en)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(en),this._queueCallback(()=>{this._element.classList.remove(en),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),s=e>0;if(s&&!t){const a=X()?"paddingLeft":"paddingRight";this._element.style[a]=`${e}px`}if(!s&&t){const a=X()?"paddingRight":"paddingLeft";this._element.style[a]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const s=$t.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t](e)}})}}p.on(document,ul,gl,function(i){const t=lt(this);["A","AREA"].includes(this.tagName)&&i.preventDefault(),p.one(t,Si,a=>{a.defaultPrevented||p.one(t,Ai,()=>{Bt(this)&&this.focus()})});const e=O.findOne(dl);e&&$t.getInstance(e).hide(),$t.getOrCreateInstance(t).toggle(this)});Ne($t);G($t);const vl="offcanvas",yl="bs.offcanvas",dt=`.${yl}`,ki=".data-api",El=`load${dt}${ki}`,wl="Escape",Ss="show",ks="showing",Os="hiding",Tl="offcanvas-backdrop",Oi=".offcanvas.show",Cl=`show${dt}`,Al=`shown${dt}`,Sl=`hide${dt}`,Ns=`hidePrevented${dt}`,Ni=`hidden${dt}`,kl=`resize${dt}`,Ol=`click${dt}${ki}`,Nl=`keydown.dismiss${dt}`,Ll='[data-bs-toggle="offcanvas"]',Pl={backdrop:!0,keyboard:!0,scroll:!1},Il={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class bt extends Z{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Pl}static get DefaultType(){return Il}static get NAME(){return vl}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||p.trigger(this._element,Cl,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new pn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ks);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Ss),this._element.classList.remove(ks),p.trigger(this._element,Al,{relatedTarget:t})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||p.trigger(this._element,Sl).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Os),this._backdrop.hide();const e=()=>{this._element.classList.remove(Ss,Os),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new pn().reset(),p.trigger(this._element,Ni)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){p.trigger(this._element,Ns);return}this.hide()},e=!!this._config.backdrop;return new Ti({className:Tl,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new Ci({trapElement:this._element})}_addEventListeners(){p.on(this._element,Nl,t=>{if(t.key===wl){if(!this._config.keyboard){p.trigger(this._element,Ns);return}this.hide()}})}static jQueryInterface(t){return this.each(function(){const e=bt.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}p.on(document,Ol,Ll,function(i){const t=lt(this);if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),mt(this))return;p.one(t,Ni,()=>{Bt(this)&&this.focus()});const e=O.findOne(Oi);e&&e!==t&&bt.getInstance(e).hide(),bt.getOrCreateInstance(t).toggle(this)});p.on(window,El,()=>{for(const i of O.find(Oi))bt.getOrCreateInstance(i).show()});p.on(window,kl,()=>{for(const i of O.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(i).position!=="fixed"&&bt.getOrCreateInstance(i).hide()});Ne(bt);G(bt);const Rl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Dl=/^aria-[\w-]*$/i,xl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,$l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ml=(i,t)=>{const e=i.nodeName.toLowerCase();return t.includes(e)?Rl.has(e)?!!(xl.test(i.nodeValue)||$l.test(i.nodeValue)):!0:t.filter(s=>s instanceof RegExp).some(s=>s.test(e))},Li={"*":["class","dir","id","lang","role",Dl],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Bl(i,t,e){if(!i.length)return i;if(e&&typeof e=="function")return e(i);const a=new window.DOMParser().parseFromString(i,"text/html"),h=[].concat(...a.body.querySelectorAll("*"));for(const u of h){const d=u.nodeName.toLowerCase();if(!Object.keys(t).includes(d)){u.remove();continue}const _=[].concat(...u.attributes),L=[].concat(t["*"]||[],t[d]||[]);for(const y of _)Ml(y,L)||u.removeAttribute(y.nodeName)}return a.body.innerHTML}const Hl="TemplateFactory",Vl={allowList:Li,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},jl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ul={entry:"(string|element|function|null)",selector:"(string|element)"};class ql extends Zt{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Vl}static get DefaultType(){return jl}static get NAME(){return Hl}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[a,h]of Object.entries(this._config.content))this._setContent(t,h,a);const e=t.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&e.classList.add(...s.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,s]of Object.entries(t))super._typeCheckConfig({selector:e,entry:s},Ul)}_setContent(t,e,s){const a=O.findOne(s,t);if(a){if(e=this._resolvePossibleFunction(e),!e){a.remove();return}if(ut(e)){this._putElementInTemplate(gt(e),a);return}if(this._config.html){a.innerHTML=this._maybeSanitize(e);return}a.textContent=e}}_maybeSanitize(t){return this._config.sanitize?Bl(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return typeof t=="function"?t(this):t}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const Fl="tooltip",Wl=new Set(["sanitize","allowList","sanitizeFn"]),nn="fade",zl="modal",ue="show",Kl=".tooltip-inner",Ls=`.${zl}`,Ps="hide.bs.modal",Kt="hover",sn="focus",Yl="click",Xl="manual",Gl="hide",Jl="hidden",Ql="show",Zl="shown",tu="inserted",eu="click",nu="focusin",su="focusout",iu="mouseenter",ru="mouseleave",ou={AUTO:"auto",TOP:"top",RIGHT:X()?"left":"right",BOTTOM:"bottom",LEFT:X()?"right":"left"},au={allowList:Li,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},cu={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Vt extends Z{constructor(t,e){if(typeof ni>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return au}static get DefaultType(){return cu}static get NAME(){return Fl}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),p.off(this._element.closest(Ls),Ps,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=p.trigger(this._element,this.constructor.eventName(Ql)),s=(oi(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!s)return;this._disposePopper();const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:h}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(h.append(a),p.trigger(this._element,this.constructor.eventName(tu))),this._popper=this._createPopper(a),a.classList.add(ue),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))p.on(d,"mouseover",Te);const u=()=>{p.trigger(this._element,this.constructor.eventName(Zl)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(u,this.tip,this._isAnimated())}hide(){if(!this._isShown()||p.trigger(this._element,this.constructor.eventName(Gl)).defaultPrevented)return;if(this._getTipElement().classList.remove(ue),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))p.off(a,"mouseover",Te);this._activeTrigger[Yl]=!1,this._activeTrigger[sn]=!1,this._activeTrigger[Kt]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),p.trigger(this._element,this.constructor.eventName(Jl)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(nn,ue),e.classList.add(`bs-${this.constructor.NAME}-auto`);const s=Ka(this.constructor.NAME).toString();return e.setAttribute("id",s),this._isAnimated()&&e.classList.add(nn),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new ql({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Kl]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(nn)}_isShown(){return this.tip&&this.tip.classList.contains(ue)}_createPopper(t){const e=typeof this._config.placement=="function"?this._config.placement.call(this,t,this._element):this._config.placement,s=ou[e.toUpperCase()];return wn(this._element,t,this._getPopperConfig(s))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return typeof t=="function"?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")p.on(this._element,this.constructor.eventName(eu),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(e!==Xl){const s=e===Kt?this.constructor.eventName(iu):this.constructor.eventName(nu),a=e===Kt?this.constructor.eventName(ru):this.constructor.eventName(su);p.on(this._element,s,this._config.selector,h=>{const u=this._initializeOnDelegatedTarget(h);u._activeTrigger[h.type==="focusin"?sn:Kt]=!0,u._enter()}),p.on(this._element,a,this._config.selector,h=>{const u=this._initializeOnDelegatedTarget(h);u._activeTrigger[h.type==="focusout"?sn:Kt]=u._element.contains(h.relatedTarget),u._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},p.on(this._element.closest(Ls),Ps,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=ft.getDataAttributes(this._element);for(const s of Object.keys(e))Wl.has(s)&&delete e[s];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:gt(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Vt.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}G(Vt);const hu="popover",lu=".popover-header",uu=".popover-body",fu={...Vt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},du={...Vt.DefaultType,content:"(null|string|element|function)"};class Sn extends Vt{static get Default(){return fu}static get DefaultType(){return du}static get NAME(){return hu}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[lu]:this._getTitle(),[uu]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=Sn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}G(Sn);const pu="scrollspy",_u="bs.scrollspy",kn=`.${_u}`,gu=".data-api",mu=`activate${kn}`,Is=`click${kn}`,bu=`load${kn}${gu}`,vu="dropdown-item",Pt="active",yu='[data-bs-spy="scroll"]',rn="[href]",Eu=".nav, .list-group",Rs=".nav-link",wu=".nav-item",Tu=".list-group-item",Cu=`${Rs}, ${wu} > ${Rs}, ${Tu}`,Au=".dropdown",Su=".dropdown-toggle",ku={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ou={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ie extends Z{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ku}static get DefaultType(){return Ou}static get NAME(){return pu}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=gt(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(p.off(this._config.target,Is),p.on(this._config.target,Is,rn,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const s=this._rootElement||window,a=e.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:a,behavior:"smooth"});return}s.scrollTop=a}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=u=>this._targetLinks.get(`#${u.target.id}`),s=u=>{this._previousScrollData.visibleEntryTop=u.target.offsetTop,this._process(e(u))},a=(this._rootElement||document.documentElement).scrollTop,h=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(const u of t){if(!u.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(u));continue}const d=u.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(h&&d){if(s(u),!a)return;continue}!h&&!d&&s(u)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=O.find(rn,this._config.target);for(const e of t){if(!e.hash||mt(e))continue;const s=O.findOne(e.hash,this._element);Bt(s)&&(this._targetLinks.set(e.hash,e),this._observableSections.set(e.hash,s))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Pt),this._activateParents(t),p.trigger(this._element,mu,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(vu)){O.findOne(Su,t.closest(Au)).classList.add(Pt);return}for(const e of O.parents(t,Eu))for(const s of O.prev(e,Cu))s.classList.add(Pt)}_clearActiveClass(t){t.classList.remove(Pt);const e=O.find(`${rn}.${Pt}`,t);for(const s of e)s.classList.remove(Pt)}static jQueryInterface(t){return this.each(function(){const e=Ie.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}p.on(window,bu,()=>{for(const i of O.find(yu))Ie.getOrCreateInstance(i)});G(Ie);const Nu="tab",Lu="bs.tab",Ot=`.${Lu}`,Pu=`hide${Ot}`,Iu=`hidden${Ot}`,Ru=`show${Ot}`,Du=`shown${Ot}`,xu=`click${Ot}`,$u=`keydown${Ot}`,Mu=`load${Ot}`,Bu="ArrowLeft",Ds="ArrowRight",Hu="ArrowUp",xs="ArrowDown",St="active",$s="fade",on="show",Vu="dropdown",ju=".dropdown-toggle",Uu=".dropdown-menu",an=":not(.dropdown-toggle)",qu='.list-group, .nav, [role="tablist"]',Fu=".nav-item, .list-group-item",Wu=`.nav-link${an}, .list-group-item${an}, [role="tab"]${an}`,Pi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',cn=`${Wu}, ${Pi}`,zu=`.${St}[data-bs-toggle="tab"], .${St}[data-bs-toggle="pill"], .${St}[data-bs-toggle="list"]`;class Mt extends Z{constructor(t){super(t),this._parent=this._element.closest(qu),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),p.on(this._element,$u,e=>this._keydown(e)))}static get NAME(){return Nu}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),s=e?p.trigger(e,Pu,{relatedTarget:t}):null;p.trigger(t,Ru,{relatedTarget:e}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(St),this._activate(lt(t));const s=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(on);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),p.trigger(t,Du,{relatedTarget:e})};this._queueCallback(s,t,t.classList.contains($s))}_deactivate(t,e){if(!t)return;t.classList.remove(St),t.blur(),this._deactivate(lt(t));const s=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(on);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),p.trigger(t,Iu,{relatedTarget:e})};this._queueCallback(s,t,t.classList.contains($s))}_keydown(t){if(![Bu,Ds,Hu,xs].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=[Ds,xs].includes(t.key),s=Tn(this._getChildren().filter(a=>!mt(a)),t.target,e,!0);s&&(s.focus({preventScroll:!0}),Mt.getOrCreateInstance(s).show())}_getChildren(){return O.find(cn,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const s of e)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),s=this._getOuterElement(t);t.setAttribute("aria-selected",e),s!==t&&this._setAttributeIfNotExists(s,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=lt(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`#${t.id}`))}_toggleDropDown(t,e){const s=this._getOuterElement(t);if(!s.classList.contains(Vu))return;const a=(h,u)=>{const d=O.findOne(h,s);d&&d.classList.toggle(u,e)};a(ju,St),a(Uu,on),s.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,s){t.hasAttribute(e)||t.setAttribute(e,s)}_elemIsActive(t){return t.classList.contains(St)}_getInnerElement(t){return t.matches(cn)?t:O.findOne(cn,t)}_getOuterElement(t){return t.closest(Fu)||t}static jQueryInterface(t){return this.each(function(){const e=Mt.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}p.on(document,xu,Pi,function(i){["A","AREA"].includes(this.tagName)&&i.preventDefault(),!mt(this)&&Mt.getOrCreateInstance(this).show()});p.on(window,Mu,()=>{for(const i of O.find(zu))Mt.getOrCreateInstance(i)});G(Mt);const Ku="toast",Yu="bs.toast",yt=`.${Yu}`,Xu=`mouseover${yt}`,Gu=`mouseout${yt}`,Ju=`focusin${yt}`,Qu=`focusout${yt}`,Zu=`hide${yt}`,tf=`hidden${yt}`,ef=`show${yt}`,nf=`shown${yt}`,sf="fade",Ms="hide",fe="show",de="showing",rf={animation:"boolean",autohide:"boolean",delay:"number"},of={animation:!0,autohide:!0,delay:5e3};class Re extends Z{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return of}static get DefaultType(){return rf}static get NAME(){return Ku}show(){if(p.trigger(this._element,ef).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(sf);const e=()=>{this._element.classList.remove(de),p.trigger(this._element,nf),this._maybeScheduleHide()};this._element.classList.remove(Ms),Qt(this._element),this._element.classList.add(fe,de),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||p.trigger(this._element,Zu).defaultPrevented)return;const e=()=>{this._element.classList.add(Ms),this._element.classList.remove(de,fe),p.trigger(this._element,tf)};this._element.classList.add(de),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(fe),super.dispose()}isShown(){return this._element.classList.contains(fe)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const s=t.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){p.on(this._element,Xu,t=>this._onInteraction(t,!0)),p.on(this._element,Gu,t=>this._onInteraction(t,!1)),p.on(this._element,Ju,t=>this._onInteraction(t,!0)),p.on(this._element,Qu,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=Re.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Ne(Re);G(Re);function Se(i){"@babel/helpers - typeof";return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(i)}function H(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Bs(i,t){for(var e=0;e<t.length;e++){var s=t[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function V(i,t,e){return t&&Bs(i.prototype,t),e&&Bs(i,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function Jt(){return Jt=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},Jt.apply(this,arguments)}function W(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),t&&_n(i,t)}function ke(i){return ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(i)}function _n(i,t){return _n=Object.setPrototypeOf||function(s,a){return s.__proto__=a,s},_n(i,t)}function af(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cf(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function hf(i,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cf(i)}function z(i){var t=af();return function(){var s=ke(i),a;if(t){var h=ke(this).constructor;a=Reflect.construct(s,arguments,h)}else a=s.apply(this,arguments);return hf(this,a)}}var On=function(){function i(){H(this,i)}return V(i,[{key:"listenForWhisper",value:function(e,s){return this.listen(".client-"+e,s)}},{key:"notification",value:function(e){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",e)}},{key:"stopListeningForWhisper",value:function(e,s){return this.stopListening(".client-"+e,s)}}]),i}(),Ii=function(){function i(t){H(this,i),this.namespace=t}return V(i,[{key:"format",value:function(e){return[".","\\"].includes(e.charAt(0))?e.substring(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(e){this.namespace=e}}]),i}(),De=function(i){W(e,i);var t=z(e);function e(s,a,h){var u;return H(this,e),u=t.call(this),u.name=a,u.pusher=s,u.options=h,u.eventFormatter=new Ii(u.options.namespace),u.subscribe(),u}return V(e,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(a,h){return this.on(this.eventFormatter.format(a),h),this}},{key:"listenToAll",value:function(a){var h=this;return this.subscription.bind_global(function(u,d){if(!u.startsWith("pusher:")){var _=h.options.namespace.replace(/\./g,"\\"),L=u.startsWith(_)?u.substring(_.length+1):"."+u;a(L,d)}}),this}},{key:"stopListening",value:function(a,h){return h?this.subscription.unbind(this.eventFormatter.format(a),h):this.subscription.unbind(this.eventFormatter.format(a)),this}},{key:"stopListeningToAll",value:function(a){return a?this.subscription.unbind_global(a):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(a){return this.on("pusher:subscription_succeeded",function(){a()}),this}},{key:"error",value:function(a){return this.on("pusher:subscription_error",function(h){a(h)}),this}},{key:"on",value:function(a,h){return this.subscription.bind(a,h),this}}]),e}(On),lf=function(i){W(e,i);var t=z(e);function e(){return H(this,e),t.apply(this,arguments)}return V(e,[{key:"whisper",value:function(a,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(a),h),this}}]),e}(De),uf=function(i){W(e,i);var t=z(e);function e(){return H(this,e),t.apply(this,arguments)}return V(e,[{key:"whisper",value:function(a,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(a),h),this}}]),e}(De),ff=function(i){W(e,i);var t=z(e);function e(){return H(this,e),t.apply(this,arguments)}return V(e,[{key:"here",value:function(a){return this.on("pusher:subscription_succeeded",function(h){a(Object.keys(h.members).map(function(u){return h.members[u]}))}),this}},{key:"joining",value:function(a){return this.on("pusher:member_added",function(h){a(h.info)}),this}},{key:"whisper",value:function(a,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(a),h),this}},{key:"leaving",value:function(a){return this.on("pusher:member_removed",function(h){a(h.info)}),this}}]),e}(De),Ri=function(i){W(e,i);var t=z(e);function e(s,a,h){var u;return H(this,e),u=t.call(this),u.events={},u.listeners={},u.name=a,u.socket=s,u.options=h,u.eventFormatter=new Ii(u.options.namespace),u.subscribe(),u}return V(e,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(a,h){return this.on(this.eventFormatter.format(a),h),this}},{key:"stopListening",value:function(a,h){return this.unbindEvent(this.eventFormatter.format(a),h),this}},{key:"subscribed",value:function(a){return this.on("connect",function(h){a(h)}),this}},{key:"error",value:function(a){return this}},{key:"on",value:function(a,h){var u=this;return this.listeners[a]=this.listeners[a]||[],this.events[a]||(this.events[a]=function(d,_){u.name===d&&u.listeners[a]&&u.listeners[a].forEach(function(L){return L(_)})},this.socket.on(a,this.events[a])),this.listeners[a].push(h),this}},{key:"unbind",value:function(){var a=this;Object.keys(this.events).forEach(function(h){a.unbindEvent(h)})}},{key:"unbindEvent",value:function(a,h){this.listeners[a]=this.listeners[a]||[],h&&(this.listeners[a]=this.listeners[a].filter(function(u){return u!==h})),(!h||this.listeners[a].length===0)&&(this.events[a]&&(this.socket.removeListener(a,this.events[a]),delete this.events[a]),delete this.listeners[a])}}]),e}(On),Di=function(i){W(e,i);var t=z(e);function e(){return H(this,e),t.apply(this,arguments)}return V(e,[{key:"whisper",value:function(a,h){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(a),data:h}),this}}]),e}(Ri),df=function(i){W(e,i);var t=z(e);function e(){return H(this,e),t.apply(this,arguments)}return V(e,[{key:"here",value:function(a){return this.on("presence:subscribed",function(h){a(h.map(function(u){return u.user_info}))}),this}},{key:"joining",value:function(a){return this.on("presence:joining",function(h){return a(h.user_info)}),this}},{key:"whisper",value:function(a,h){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(a),data:h}),this}},{key:"leaving",value:function(a){return this.on("presence:leaving",function(h){return a(h.user_info)}),this}}]),e}(Di),Oe=function(i){W(e,i);var t=z(e);function e(){return H(this,e),t.apply(this,arguments)}return V(e,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(a,h){return this}},{key:"listenToAll",value:function(a){return this}},{key:"stopListening",value:function(a,h){return this}},{key:"subscribed",value:function(a){return this}},{key:"error",value:function(a){return this}},{key:"on",value:function(a,h){return this}}]),e}(On),Hs=function(i){W(e,i);var t=z(e);function e(){return H(this,e),t.apply(this,arguments)}return V(e,[{key:"whisper",value:function(a,h){return this}}]),e}(Oe),pf=function(i){W(e,i);var t=z(e);function e(){return H(this,e),t.apply(this,arguments)}return V(e,[{key:"here",value:function(a){return this}},{key:"joining",value:function(a){return this}},{key:"whisper",value:function(a,h){return this}},{key:"leaving",value:function(a){return this}}]),e}(Oe),Nn=function(){function i(t){H(this,i),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(t),this.connect()}return V(i,[{key:"setOptions",value:function(e){this.options=Jt(this._defaultOptions,e);var s=this.csrfToken();return s&&(this.options.auth.headers["X-CSRF-TOKEN"]=s,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=s),s=this.options.bearerToken,s&&(this.options.auth.headers.Authorization="Bearer "+s,this.options.userAuthentication.headers.Authorization="Bearer "+s),e}},{key:"csrfToken",value:function(){var e;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(e=document.querySelector('meta[name="csrf-token"]'))?e.getAttribute("content"):null}}]),i}(),Vs=function(i){W(e,i);var t=z(e);function e(){var s;return H(this,e),s=t.apply(this,arguments),s.channels={},s}return V(e,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(a,h,u){return this.channel(a).listen(h,u)}},{key:"channel",value:function(a){return this.channels[a]||(this.channels[a]=new De(this.pusher,a,this.options)),this.channels[a]}},{key:"privateChannel",value:function(a){return this.channels["private-"+a]||(this.channels["private-"+a]=new lf(this.pusher,"private-"+a,this.options)),this.channels["private-"+a]}},{key:"encryptedPrivateChannel",value:function(a){return this.channels["private-encrypted-"+a]||(this.channels["private-encrypted-"+a]=new uf(this.pusher,"private-encrypted-"+a,this.options)),this.channels["private-encrypted-"+a]}},{key:"presenceChannel",value:function(a){return this.channels["presence-"+a]||(this.channels["presence-"+a]=new ff(this.pusher,"presence-"+a,this.options)),this.channels["presence-"+a]}},{key:"leave",value:function(a){var h=this,u=[a,"private-"+a,"private-encrypted-"+a,"presence-"+a];u.forEach(function(d,_){h.leaveChannel(d)})}},{key:"leaveChannel",value:function(a){this.channels[a]&&(this.channels[a].unsubscribe(),delete this.channels[a])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),e}(Nn),_f=function(i){W(e,i);var t=z(e);function e(){var s;return H(this,e),s=t.apply(this,arguments),s.channels={},s}return V(e,[{key:"connect",value:function(){var a=this,h=this.getSocketIO();return this.socket=h(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(a.channels).forEach(function(u){u.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(a,h,u){return this.channel(a).listen(h,u)}},{key:"channel",value:function(a){return this.channels[a]||(this.channels[a]=new Ri(this.socket,a,this.options)),this.channels[a]}},{key:"privateChannel",value:function(a){return this.channels["private-"+a]||(this.channels["private-"+a]=new Di(this.socket,"private-"+a,this.options)),this.channels["private-"+a]}},{key:"presenceChannel",value:function(a){return this.channels["presence-"+a]||(this.channels["presence-"+a]=new df(this.socket,"presence-"+a,this.options)),this.channels["presence-"+a]}},{key:"leave",value:function(a){var h=this,u=[a,"private-"+a,"presence-"+a];u.forEach(function(d){h.leaveChannel(d)})}},{key:"leaveChannel",value:function(a){this.channels[a]&&(this.channels[a].unsubscribe(),delete this.channels[a])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),e}(Nn),gf=function(i){W(e,i);var t=z(e);function e(){var s;return H(this,e),s=t.apply(this,arguments),s.channels={},s}return V(e,[{key:"connect",value:function(){}},{key:"listen",value:function(a,h,u){return new Oe}},{key:"channel",value:function(a){return new Oe}},{key:"privateChannel",value:function(a){return new Hs}},{key:"encryptedPrivateChannel",value:function(a){return new Hs}},{key:"presenceChannel",value:function(a){return new pf}},{key:"leave",value:function(a){}},{key:"leaveChannel",value:function(a){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),e}(Nn),xi=function(){function i(t){H(this,i),this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return V(i,[{key:"channel",value:function(e){return this.connector.channel(e)}},{key:"connect",value:function(){if(this.options.broadcaster=="reverb")this.connector=new Vs(Jt(Jt({},this.options),{cluster:""}));else if(this.options.broadcaster=="pusher")this.connector=new Vs(this.options);else if(this.options.broadcaster=="socket.io")this.connector=new _f(this.options);else if(this.options.broadcaster=="null")this.connector=new gf(this.options);else if(typeof this.options.broadcaster=="function")this.connector=new this.options.broadcaster(this.options);else throw new Error("Broadcaster ".concat(Se(this.options.broadcaster)," ").concat(this.options.broadcaster," is not supported."))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(e){return this.connector.presenceChannel(e)}},{key:"leave",value:function(e){this.connector.leave(e)}},{key:"leaveChannel",value:function(e){this.connector.leaveChannel(e)}},{key:"leaveAllChannels",value:function(){for(var e in this.connector.channels)this.leaveChannel(e)}},{key:"listen",value:function(e,s,a){return this.connector.listen(e,s,a)}},{key:"private",value:function(e){return this.connector.privateChannel(e)}},{key:"encryptedPrivate",value:function(e){return this.connector.encryptedPrivateChannel(e)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":Se(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var e=this;Vue.http.interceptors.push(function(s,a){e.socketId()&&s.headers.set("X-Socket-ID",e.socketId()),a()})}},{key:"registerAxiosRequestInterceptor",value:function(){var e=this;axios.interceptors.request.use(function(s){return e.socketId()&&(s.headers["X-Socket-Id"]=e.socketId()),s})}},{key:"registerjQueryAjaxSetup",value:function(){var e=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(s,a,h){e.socketId()&&h.setRequestHeader("X-Socket-Id",e.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var e=this;document.addEventListener("turbo:before-fetch-request",function(s){s.detail.fetchOptions.headers["X-Socket-Id"]=e.socketId()})}}]),i}(),$i={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0-rc2
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(i,t){(function(s,a){i.exports=a()})(window,function(){return function(e){var s={};function a(h){if(s[h])return s[h].exports;var u=s[h]={i:h,l:!1,exports:{}};return e[h].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=e,a.c=s,a.d=function(h,u,d){a.o(h,u)||Object.defineProperty(h,u,{enumerable:!0,get:d})},a.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},a.t=function(h,u){if(u&1&&(h=a(h)),u&8||u&4&&typeof h=="object"&&h&&h.__esModule)return h;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:h}),u&2&&typeof h!="string")for(var _ in h)a.d(d,_,(function(L){return h[L]}).bind(null,_));return d},a.n=function(h){var u=h&&h.__esModule?function(){return h.default}:function(){return h};return a.d(u,"a",u),u},a.o=function(h,u){return Object.prototype.hasOwnProperty.call(h,u)},a.p="",a(a.s=2)}([function(e,s,a){var h=this&&this.__extends||function(){var E=function(m,b){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,D){S.__proto__=D}||function(S,D){for(var j in D)D.hasOwnProperty(j)&&(S[j]=D[j])},E(m,b)};return function(m,b){E(m,b);function S(){this.constructor=m}m.prototype=b===null?Object.create(b):(S.prototype=b.prototype,new S)}}();Object.defineProperty(s,"__esModule",{value:!0});var u=256,d=function(){function E(m){m===void 0&&(m="="),this._paddingCharacter=m}return E.prototype.encodedLength=function(m){return this._paddingCharacter?(m+2)/3*4|0:(m*8+5)/6|0},E.prototype.encode=function(m){for(var b="",S=0;S<m.length-2;S+=3){var D=m[S]<<16|m[S+1]<<8|m[S+2];b+=this._encodeByte(D>>>3*6&63),b+=this._encodeByte(D>>>2*6&63),b+=this._encodeByte(D>>>1*6&63),b+=this._encodeByte(D>>>0*6&63)}var j=m.length-S;if(j>0){var D=m[S]<<16|(j===2?m[S+1]<<8:0);b+=this._encodeByte(D>>>3*6&63),b+=this._encodeByte(D>>>2*6&63),j===2?b+=this._encodeByte(D>>>1*6&63):b+=this._paddingCharacter||"",b+=this._paddingCharacter||""}return b},E.prototype.maxDecodedLength=function(m){return this._paddingCharacter?m/4*3|0:(m*6+7)/8|0},E.prototype.decodedLength=function(m){return this.maxDecodedLength(m.length-this._getPaddingLength(m))},E.prototype.decode=function(m){if(m.length===0)return new Uint8Array(0);for(var b=this._getPaddingLength(m),S=m.length-b,D=new Uint8Array(this.maxDecodedLength(S)),j=0,U=0,J=0,it=0,K=0,rt=0,pt=0;U<S-4;U+=4)it=this._decodeChar(m.charCodeAt(U+0)),K=this._decodeChar(m.charCodeAt(U+1)),rt=this._decodeChar(m.charCodeAt(U+2)),pt=this._decodeChar(m.charCodeAt(U+3)),D[j++]=it<<2|K>>>4,D[j++]=K<<4|rt>>>2,D[j++]=rt<<6|pt,J|=it&u,J|=K&u,J|=rt&u,J|=pt&u;if(U<S-1&&(it=this._decodeChar(m.charCodeAt(U)),K=this._decodeChar(m.charCodeAt(U+1)),D[j++]=it<<2|K>>>4,J|=it&u,J|=K&u),U<S-2&&(rt=this._decodeChar(m.charCodeAt(U+2)),D[j++]=K<<4|rt>>>2,J|=rt&u),U<S-3&&(pt=this._decodeChar(m.charCodeAt(U+3)),D[j++]=rt<<6|pt,J|=pt&u),J!==0)throw new Error("Base64Coder: incorrect characters for decoding");return D},E.prototype._encodeByte=function(m){var b=m;return b+=65,b+=25-m>>>8&0-65-26+97,b+=51-m>>>8&26-97-52+48,b+=61-m>>>8&52-48-62+43,b+=62-m>>>8&62-43-63+47,String.fromCharCode(b)},E.prototype._decodeChar=function(m){var b=u;return b+=(42-m&m-44)>>>8&-u+m-43+62,b+=(46-m&m-48)>>>8&-u+m-47+63,b+=(47-m&m-58)>>>8&-u+m-48+52,b+=(64-m&m-91)>>>8&-u+m-65+0,b+=(96-m&m-123)>>>8&-u+m-97+26,b},E.prototype._getPaddingLength=function(m){var b=0;if(this._paddingCharacter){for(var S=m.length-1;S>=0&&m[S]===this._paddingCharacter;S--)b++;if(m.length<4||b>2)throw new Error("Base64Coder: incorrect padding")}return b},E}();s.Coder=d;var _=new d;function L(E){return _.encode(E)}s.encode=L;function y(E){return _.decode(E)}s.decode=y;var T=function(E){h(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype._encodeByte=function(b){var S=b;return S+=65,S+=25-b>>>8&0-65-26+97,S+=51-b>>>8&26-97-52+48,S+=61-b>>>8&52-48-62+45,S+=62-b>>>8&62-45-63+95,String.fromCharCode(S)},m.prototype._decodeChar=function(b){var S=u;return S+=(44-b&b-46)>>>8&-u+b-45+62,S+=(94-b&b-96)>>>8&-u+b-95+63,S+=(47-b&b-58)>>>8&-u+b-48+52,S+=(64-b&b-91)>>>8&-u+b-65+0,S+=(96-b&b-123)>>>8&-u+b-97+26,S},m}(d);s.URLSafeCoder=T;var w=new T;function k(E){return w.encode(E)}s.encodeURLSafe=k;function P(E){return w.decode(E)}s.decodeURLSafe=P,s.encodedLength=function(E){return _.encodedLength(E)},s.maxDecodedLength=function(E){return _.maxDecodedLength(E)},s.decodedLength=function(E){return _.decodedLength(E)}},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var h="utf8: invalid string",u="utf8: invalid source encoding";function d(y){for(var T=new Uint8Array(_(y)),w=0,k=0;k<y.length;k++){var P=y.charCodeAt(k);P<128?T[w++]=P:P<2048?(T[w++]=192|P>>6,T[w++]=128|P&63):P<55296?(T[w++]=224|P>>12,T[w++]=128|P>>6&63,T[w++]=128|P&63):(k++,P=(P&1023)<<10,P|=y.charCodeAt(k)&1023,P+=65536,T[w++]=240|P>>18,T[w++]=128|P>>12&63,T[w++]=128|P>>6&63,T[w++]=128|P&63)}return T}s.encode=d;function _(y){for(var T=0,w=0;w<y.length;w++){var k=y.charCodeAt(w);if(k<128)T+=1;else if(k<2048)T+=2;else if(k<55296)T+=3;else if(k<=57343){if(w>=y.length-1)throw new Error(h);w++,T+=4}else throw new Error(h)}return T}s.encodedLength=_;function L(y){for(var T=[],w=0;w<y.length;w++){var k=y[w];if(k&128){var P=void 0;if(k<224){if(w>=y.length)throw new Error(u);var E=y[++w];if((E&192)!==128)throw new Error(u);k=(k&31)<<6|E&63,P=128}else if(k<240){if(w>=y.length-1)throw new Error(u);var E=y[++w],m=y[++w];if((E&192)!==128||(m&192)!==128)throw new Error(u);k=(k&15)<<12|(E&63)<<6|m&63,P=2048}else if(k<248){if(w>=y.length-2)throw new Error(u);var E=y[++w],m=y[++w],b=y[++w];if((E&192)!==128||(m&192)!==128||(b&192)!==128)throw new Error(u);k=(k&15)<<18|(E&63)<<12|(m&63)<<6|b&63,P=65536}else throw new Error(u);if(k<P||k>=55296&&k<=57343)throw new Error(u);if(k>=65536){if(k>1114111)throw new Error(u);k-=65536,T.push(String.fromCharCode(55296|k>>10)),k=56320|k&1023}}T.push(String.fromCharCode(k))}return T.join("")}s.decode=L},function(e,s,a){e.exports=a(3).default},function(e,s,a){a.r(s);class h{constructor(n,r){this.lastId=0,this.prefix=n,this.name=r}create(n){this.lastId++;var r=this.lastId,c=this.prefix+r,l=this.name+"["+r+"]",f=!1,g=function(){f||(n.apply(null,arguments),f=!0)};return this[r]=g,{number:r,id:c,name:l,callback:g}}remove(n){delete this[n.number]}}var u=new h("_pusher_script_","Pusher.ScriptReceivers"),d={VERSION:"8.4.0-rc2",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},_=d;class L{constructor(n){this.options=n,this.receivers=n.receivers||u,this.loading={}}load(n,r,c){var l=this;if(l.loading[n]&&l.loading[n].length>0)l.loading[n].push(c);else{l.loading[n]=[c];var f=A.createScriptRequest(l.getPath(n,r)),g=l.receivers.create(function(v){if(l.receivers.remove(g),l.loading[n]){var C=l.loading[n];delete l.loading[n];for(var I=function($){$||f.cleanup()},R=0;R<C.length;R++)C[R](v,I)}});f.send(g)}}getRoot(n){var r,c=A.getDocument().location.protocol;return n&&n.useTLS||c==="https:"?r=this.options.cdn_https:r=this.options.cdn_http,r.replace(/\/*$/,"")+"/"+this.options.version}getPath(n,r){return this.getRoot(r)+"/"+n+this.options.suffix+".js"}}var y=new h("_pusher_dependencies","Pusher.DependenciesReceivers"),T=new L({cdn_http:_.cdn_http,cdn_https:_.cdn_https,version:_.VERSION,suffix:_.dependency_suffix,receivers:y});const w={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var P={buildLogSuffix:function(o){const n="See:",r=w.urls[o];if(!r)return"";let c;return r.fullUrl?c=r.fullUrl:r.path&&(c=w.baseUrl+r.path),c?`${n} ${c}`:""}},E;(function(o){o.UserAuthentication="user-authentication",o.ChannelAuthorization="channel-authorization"})(E||(E={}));class m extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class D extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class j extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class U extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class J extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class it extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class K extends Error{constructor(n,r){super(r),this.status=n,Object.setPrototypeOf(this,new.target.prototype)}}var pt=function(o,n,r,c,l){const f=A.createXHR();f.open("POST",r.endpoint,!0),f.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var g in r.headers)f.setRequestHeader(g,r.headers[g]);if(r.headersProvider!=null){let v=r.headersProvider();for(var g in v)f.setRequestHeader(g,v[g])}return f.onreadystatechange=function(){if(f.readyState===4)if(f.status===200){let v,C=!1;try{v=JSON.parse(f.responseText),C=!0}catch{l(new K(200,`JSON returned from ${c.toString()} endpoint was invalid, yet status code was 200. Data was: ${f.responseText}`),null)}C&&l(null,v)}else{let v="";switch(c){case E.UserAuthentication:v=P.buildLogSuffix("authenticationEndpoint");break;case E.ChannelAuthorization:v=`Clients must be authorized to join private or presence channels. ${P.buildLogSuffix("authorizationEndpoint")}`;break}l(new K(f.status,`Unable to retrieve auth string from ${c.toString()} endpoint - received status: ${f.status} from ${r.endpoint}. ${v}`),null)}},f.send(n),f};function Qi(o){return nr(tr(o))}var Ut=String.fromCharCode,ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zi=function(o){var n=o.charCodeAt(0);return n<128?o:n<2048?Ut(192|n>>>6)+Ut(128|n&63):Ut(224|n>>>12&15)+Ut(128|n>>>6&63)+Ut(128|n&63)},tr=function(o){return o.replace(/[^\x00-\x7F]/g,Zi)},er=function(o){var n=[0,2,1][o.length%3],r=o.charCodeAt(0)<<16|(o.length>1?o.charCodeAt(1):0)<<8|(o.length>2?o.charCodeAt(2):0),c=[ne.charAt(r>>>18),ne.charAt(r>>>12&63),n>=2?"=":ne.charAt(r>>>6&63),n>=1?"=":ne.charAt(r&63)];return c.join("")},nr=window.btoa||function(o){return o.replace(/[\s\S]{1,3}/g,er)};class sr{constructor(n,r,c,l){this.clear=r,this.timer=n(()=>{this.timer&&(this.timer=l(this.timer))},c)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var $n=sr;function ir(o){window.clearTimeout(o)}function rr(o){window.clearInterval(o)}class Et extends $n{constructor(n,r){super(setTimeout,ir,n,function(c){return r(),null})}}class or extends $n{constructor(n,r){super(setInterval,rr,n,function(c){return r(),c})}}var ar={now(){return Date.now?Date.now():new Date().valueOf()},defer(o){return new Et(0,o)},method(o,...n){var r=Array.prototype.slice.call(arguments,1);return function(c){return c[o].apply(c,r.concat(arguments))}}},q=ar;function F(o,...n){for(var r=0;r<n.length;r++){var c=n[r];for(var l in c)c[l]&&c[l].constructor&&c[l].constructor===Object?o[l]=F(o[l]||{},c[l]):o[l]=c[l]}return o}function cr(){for(var o=["Pusher"],n=0;n<arguments.length;n++)typeof arguments[n]=="string"?o.push(arguments[n]):o.push(se(arguments[n]));return o.join(" : ")}function Mn(o,n){var r=Array.prototype.indexOf;if(o===null)return-1;if(r&&o.indexOf===r)return o.indexOf(n);for(var c=0,l=o.length;c<l;c++)if(o[c]===n)return c;return-1}function ot(o,n){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&n(o[r],r,o)}function Bn(o){var n=[];return ot(o,function(r,c){n.push(c)}),n}function hr(o){var n=[];return ot(o,function(r){n.push(r)}),n}function qt(o,n,r){for(var c=0;c<o.length;c++)n.call(r||window,o[c],c,o)}function Hn(o,n){for(var r=[],c=0;c<o.length;c++)r.push(n(o[c],c,o,r));return r}function lr(o,n){var r={};return ot(o,function(c,l){r[l]=n(c)}),r}function Vn(o,n){n=n||function(l){return!!l};for(var r=[],c=0;c<o.length;c++)n(o[c],c,o,r)&&r.push(o[c]);return r}function jn(o,n){var r={};return ot(o,function(c,l){(n&&n(c,l,o,r)||c)&&(r[l]=c)}),r}function ur(o){var n=[];return ot(o,function(r,c){n.push([c,r])}),n}function Un(o,n){for(var r=0;r<o.length;r++)if(n(o[r],r,o))return!0;return!1}function fr(o,n){for(var r=0;r<o.length;r++)if(!n(o[r],r,o))return!1;return!0}function dr(o){return lr(o,function(n){return typeof n=="object"&&(n=se(n)),encodeURIComponent(Qi(n.toString()))})}function pr(o){var n=jn(o,function(c){return c!==void 0}),r=Hn(ur(dr(n)),q.method("join","=")).join("&");return r}function _r(o){var n=[],r=[];return function c(l,f){var g,v,C;switch(typeof l){case"object":if(!l)return null;for(g=0;g<n.length;g+=1)if(n[g]===l)return{$ref:r[g]};if(n.push(l),r.push(f),Object.prototype.toString.apply(l)==="[object Array]")for(C=[],g=0;g<l.length;g+=1)C[g]=c(l[g],f+"["+g+"]");else{C={};for(v in l)Object.prototype.hasOwnProperty.call(l,v)&&(C[v]=c(l[v],f+"["+JSON.stringify(v)+"]"))}return C;case"number":case"string":case"boolean":return l}}(o,"$")}function se(o){try{return JSON.stringify(o)}catch{return JSON.stringify(_r(o))}}class gr{constructor(){this.globalLog=n=>{window.console&&window.console.log&&window.console.log(n)}}debug(...n){this.log(this.globalLog,n)}warn(...n){this.log(this.globalLogWarn,n)}error(...n){this.log(this.globalLogError,n)}globalLogWarn(n){window.console&&window.console.warn?window.console.warn(n):this.globalLog(n)}globalLogError(n){window.console&&window.console.error?window.console.error(n):this.globalLogWarn(n)}log(n,...r){var c=cr.apply(this,arguments);ze.log?ze.log(c):ze.logToConsole&&n.bind(this)(c)}}var x=new gr,mr=function(o,n,r,c,l){(r.headers!==void 0||r.headersProvider!=null)&&x.warn(`To send headers with the ${c.toString()} request, you must use AJAX, rather than JSONP.`);var f=o.nextAuthCallbackID.toString();o.nextAuthCallbackID++;var g=o.getDocument(),v=g.createElement("script");o.auth_callbacks[f]=function(R){l(null,R)};var C="Pusher.auth_callbacks['"+f+"']";v.src=r.endpoint+"?callback="+encodeURIComponent(C)+"&"+n;var I=g.getElementsByTagName("head")[0]||g.documentElement;I.insertBefore(v,I.firstChild)},br=mr;class vr{constructor(n){this.src=n}send(n){var r=this,c="Error loading "+r.src;r.script=document.createElement("script"),r.script.id=n.id,r.script.src=r.src,r.script.type="text/javascript",r.script.charset="UTF-8",r.script.addEventListener?(r.script.onerror=function(){n.callback(c)},r.script.onload=function(){n.callback(null)}):r.script.onreadystatechange=function(){(r.script.readyState==="loaded"||r.script.readyState==="complete")&&n.callback(null)},r.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(r.errorScript=document.createElement("script"),r.errorScript.id=n.id+"_error",r.errorScript.text=n.name+"('"+c+"');",r.script.async=r.errorScript.async=!1):r.script.async=!0;var l=document.getElementsByTagName("head")[0];l.insertBefore(r.script,l.firstChild),r.errorScript&&l.insertBefore(r.errorScript,r.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class yr{constructor(n,r){this.url=n,this.data=r}send(n){if(!this.request){var r=pr(this.data),c=this.url+"/"+n.number+"?"+r;this.request=A.createScriptRequest(c),this.request.send(n)}}cleanup(){this.request&&this.request.cleanup()}}var Er=function(o,n){return function(r,c){var l="http"+(n?"s":"")+"://",f=l+(o.host||o.options.host)+o.options.path,g=A.createJSONPRequest(f,r),v=A.ScriptReceivers.create(function(C,I){u.remove(v),g.cleanup(),I&&I.host&&(o.host=I.host),c&&c(C,I)});g.send(v)}},wr={name:"jsonp",getAgent:Er},Tr=wr;function $e(o,n,r){var c=o+(n.useTLS?"s":""),l=n.useTLS?n.hostTLS:n.hostNonTLS;return c+"://"+l+r}function Me(o,n){var r="/app/"+o,c="?protocol="+_.PROTOCOL+"&client=js&version="+_.VERSION+(n?"&"+n:"");return r+c}var Cr={getInitial:function(o,n){var r=(n.httpPath||"")+Me(o,"flash=false");return $e("ws",n,r)}},Ar={getInitial:function(o,n){var r=(n.httpPath||"/pusher")+Me(o);return $e("http",n,r)}},Sr={getInitial:function(o,n){return $e("http",n,n.httpPath||"/pusher")},getPath:function(o,n){return Me(o)}};class kr{constructor(){this._callbacks={}}get(n){return this._callbacks[Be(n)]}add(n,r,c){var l=Be(n);this._callbacks[l]=this._callbacks[l]||[],this._callbacks[l].push({fn:r,context:c})}remove(n,r,c){if(!n&&!r&&!c){this._callbacks={};return}var l=n?[Be(n)]:Bn(this._callbacks);r||c?this.removeCallback(l,r,c):this.removeAllCallbacks(l)}removeCallback(n,r,c){qt(n,function(l){this._callbacks[l]=Vn(this._callbacks[l]||[],function(f){return r&&r!==f.fn||c&&c!==f.context}),this._callbacks[l].length===0&&delete this._callbacks[l]},this)}removeAllCallbacks(n){qt(n,function(r){delete this._callbacks[r]},this)}}function Be(o){return"_"+o}class at{constructor(n){this.callbacks=new kr,this.global_callbacks=[],this.failThrough=n}bind(n,r,c){return this.callbacks.add(n,r,c),this}bind_global(n){return this.global_callbacks.push(n),this}unbind(n,r,c){return this.callbacks.remove(n,r,c),this}unbind_global(n){return n?(this.global_callbacks=Vn(this.global_callbacks||[],r=>r!==n),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(n,r,c){for(var l=0;l<this.global_callbacks.length;l++)this.global_callbacks[l](n,r);var f=this.callbacks.get(n),g=[];if(c?g.push(r,c):r&&g.push(r),f&&f.length>0)for(var l=0;l<f.length;l++)f[l].fn.apply(f[l].context||window,g);else this.failThrough&&this.failThrough(n,r);return this}}class Or extends at{constructor(n,r,c,l,f){super(),this.initialize=A.transportConnectionInitializer,this.hooks=n,this.name=r,this.priority=c,this.key=l,this.options=f,this.state="new",this.timeline=f.timeline,this.activityTimeout=f.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var n=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(n,this.options)}catch(r){return q.defer(()=>{this.onError(r),this.changeState("closed")}),!1}return this.bindListeners(),x.debug("Connecting",{transport:this.name,url:n}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(n){return this.state==="open"?(q.defer(()=>{this.socket&&this.socket.send(n)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(n){this.emit("error",{type:"WebSocketError",error:n}),this.timeline.error(this.buildTimelineMessage({error:n.toString()}))}onClose(n){n?this.changeState("closed",{code:n.code,reason:n.reason,wasClean:n.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(n){this.emit("message",n)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=n=>{this.onError(n)},this.socket.onclose=n=>{this.onClose(n)},this.socket.onmessage=n=>{this.onMessage(n)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(n,r){this.state=n,this.timeline.info(this.buildTimelineMessage({state:n,params:r})),this.emit(n,r)}buildTimelineMessage(n){return F({cid:this.id},n)}}class Nt{constructor(n){this.hooks=n}isSupported(n){return this.hooks.isSupported(n)}createConnection(n,r,c,l){return new Or(this.hooks,n,r,c,l)}}var Nr=new Nt({urls:Cr,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!A.getWebSocketAPI()},isSupported:function(){return!!A.getWebSocketAPI()},getSocket:function(o){return A.createWebSocket(o)}}),qn={urls:Ar,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Fn=F({getSocket:function(o){return A.HTTPFactory.createStreamingSocket(o)}},qn),Wn=F({getSocket:function(o){return A.HTTPFactory.createPollingSocket(o)}},qn),zn={isSupported:function(){return A.isXHRSupported()}},Lr=new Nt(F({},Fn,zn)),Pr=new Nt(F({},Wn,zn)),Ir={ws:Nr,xhr_streaming:Lr,xhr_polling:Pr},ie=Ir,Rr=new Nt({file:"sockjs",urls:Sr,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(o,n){return new window.SockJS(o,null,{js_path:T.getPath("sockjs",{useTLS:n.useTLS}),ignore_null_origin:n.ignoreNullOrigin})},beforeOpen:function(o,n){o.send(JSON.stringify({path:n}))}}),Kn={isSupported:function(o){var n=A.isXDRSupported(o.useTLS);return n}},Dr=new Nt(F({},Fn,Kn)),xr=new Nt(F({},Wn,Kn));ie.xdr_streaming=Dr,ie.xdr_polling=xr,ie.sockjs=Rr;var $r=ie;class Mr extends at{constructor(){super();var n=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){n.emit("online")},!1),window.addEventListener("offline",function(){n.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Br=new Mr;class Hr{constructor(n,r,c){this.manager=n,this.transport=r,this.minPingDelay=c.minPingDelay,this.maxPingDelay=c.maxPingDelay,this.pingDelay=void 0}createConnection(n,r,c,l){l=F({},l,{activityTimeout:this.pingDelay});var f=this.transport.createConnection(n,r,c,l),g=null,v=function(){f.unbind("open",v),f.bind("closed",C),g=q.now()},C=I=>{if(f.unbind("closed",C),I.code===1002||I.code===1003)this.manager.reportDeath();else if(!I.wasClean&&g){var R=q.now()-g;R<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(R/2,this.minPingDelay))}};return f.bind("open",v),f}isSupported(n){return this.manager.isAlive()&&this.transport.isSupported(n)}}const Yn={decodeMessage:function(o){try{var n=JSON.parse(o.data),r=n.data;if(typeof r=="string")try{r=JSON.parse(n.data)}catch{}var c={event:n.event,channel:n.channel,data:r};return n.user_id&&(c.user_id=n.user_id),c}catch(l){throw{type:"MessageParseError",error:l,data:o.data}}},encodeMessage:function(o){return JSON.stringify(o)},processHandshake:function(o){var n=Yn.decodeMessage(o);if(n.event==="pusher:connection_established"){if(!n.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:n.data.socket_id,activityTimeout:n.data.activity_timeout*1e3}}else{if(n.event==="pusher:error")return{action:this.getCloseAction(n.data),error:this.getCloseError(n.data)};throw"Invalid handshake"}},getCloseAction:function(o){return o.code<4e3?o.code>=1002&&o.code<=1004?"backoff":null:o.code===4e3?"tls_only":o.code<4100?"refused":o.code<4200?"backoff":o.code<4300?"retry":"refused"},getCloseError:function(o){return o.code!==1e3&&o.code!==1001?{type:"PusherError",data:{code:o.code,message:o.reason||o.message}}:null}};var wt=Yn;class Vr extends at{constructor(n,r){super(),this.id=n,this.transport=r,this.activityTimeout=r.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(n){return this.transport.send(n)}send_event(n,r,c){var l={event:n,data:r};return c&&(l.channel=c),x.debug("Event sent",l),this.send(wt.encodeMessage(l))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var n={message:c=>{var l;try{l=wt.decodeMessage(c)}catch(f){this.emit("error",{type:"MessageParseError",error:f,data:c.data})}if(l!==void 0){switch(x.debug("Event recd",l),l.event){case"pusher:error":this.emit("error",{type:"PusherError",data:l.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",l)}},activity:()=>{this.emit("activity")},error:c=>{this.emit("error",c)},closed:c=>{r(),c&&c.code&&this.handleCloseEvent(c),this.transport=null,this.emit("closed")}},r=()=>{ot(n,(c,l)=>{this.transport.unbind(l,c)})};ot(n,(c,l)=>{this.transport.bind(l,c)})}handleCloseEvent(n){var r=wt.getCloseAction(n),c=wt.getCloseError(n);c&&this.emit("error",c),r&&this.emit(r,{action:r,error:c})}}class jr{constructor(n,r){this.transport=n,this.callback=r,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=n=>{this.unbindListeners();var r;try{r=wt.processHandshake(n)}catch(c){this.finish("error",{error:c}),this.transport.close();return}r.action==="connected"?this.finish("connected",{connection:new Vr(r.id,this.transport),activityTimeout:r.activityTimeout}):(this.finish(r.action,{error:r.error}),this.transport.close())},this.onClosed=n=>{this.unbindListeners();var r=wt.getCloseAction(n)||"backoff",c=wt.getCloseError(n);this.finish(r,{error:c})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(n,r){this.callback(F({transport:this.transport,action:n},r))}}class Ur{constructor(n,r){this.timeline=n,this.options=r||{}}send(n,r){this.timeline.isEmpty()||this.timeline.send(A.TimelineTransport.getAgent(this,n),r)}}class He extends at{constructor(n,r){super(function(c,l){x.debug("No callbacks on "+n+" for "+c)}),this.name=n,this.pusher=r,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(n,r){return r(null,{auth:""})}trigger(n,r){if(n.indexOf("client-")!==0)throw new m("Event '"+n+"' does not start with 'client-'");if(!this.subscribed){var c=P.buildLogSuffix("triggeringClientEvents");x.warn(`Client event triggered before channel 'subscription_succeeded' event . ${c}`)}return this.pusher.send_event(n,r,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(n){var r=n.event,c=n.data;if(r==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(n);else if(r==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(n);else if(r.indexOf("pusher_internal:")!==0){var l={};this.emit(r,c,l)}}handleSubscriptionSucceededEvent(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",n.data)}handleSubscriptionCountEvent(n){n.data.subscription_count&&(this.subscriptionCount=n.data.subscription_count),this.emit("pusher:subscription_count",n.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(n,r)=>{n?(this.subscriptionPending=!1,x.error(n.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:n.message},n instanceof K?{status:n.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:r.auth,channel_data:r.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Ve extends He{authorize(n,r){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:n},r)}}class qr{constructor(){this.reset()}get(n){return Object.prototype.hasOwnProperty.call(this.members,n)?{id:n,info:this.members[n]}:null}each(n){ot(this.members,(r,c)=>{n(this.get(c))})}setMyID(n){this.myID=n}onSubscription(n){this.members=n.presence.hash,this.count=n.presence.count,this.me=this.get(this.myID)}addMember(n){return this.get(n.user_id)===null&&this.count++,this.members[n.user_id]=n.user_info,this.get(n.user_id)}removeMember(n){var r=this.get(n.user_id);return r&&(delete this.members[n.user_id],this.count--),r}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Fr=function(o,n,r,c){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function v(R){try{I(c.next(R))}catch($){g($)}}function C(R){try{I(c.throw(R))}catch($){g($)}}function I(R){R.done?f(R.value):l(R.value).then(v,C)}I((c=c.apply(o,n||[])).next())})};class Wr extends Ve{constructor(n,r){super(n,r),this.members=new qr}authorize(n,r){super.authorize(n,(c,l)=>Fr(this,void 0,void 0,function*(){if(!c)if(l=l,l.channel_data!=null){var f=JSON.parse(l.channel_data);this.members.setMyID(f.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let g=P.buildLogSuffix("authorizationEndpoint");x.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${g}, or the user should be signed in.`),r("Invalid auth response");return}r(c,l)}))}handleEvent(n){var r=n.event;if(r.indexOf("pusher_internal:")===0)this.handleInternalEvent(n);else{var c=n.data,l={};n.user_id&&(l.user_id=n.user_id),this.emit(r,c,l)}}handleInternalEvent(n){var r=n.event,c=n.data;switch(r){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(n);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(n);break;case"pusher_internal:member_added":var l=this.members.addMember(c);this.emit("pusher:member_added",l);break;case"pusher_internal:member_removed":var f=this.members.removeMember(c);f&&this.emit("pusher:member_removed",f);break}}handleSubscriptionSucceededEvent(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(n.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var zr=a(1),je=a(0);class Kr extends Ve{constructor(n,r,c){super(n,r),this.key=null,this.nacl=c}authorize(n,r){super.authorize(n,(c,l)=>{if(c){r(c,l);return}let f=l.shared_secret;if(!f){r(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(je.decode)(f),delete l.shared_secret,r(null,l)})}trigger(n,r){throw new U("Client events are not currently supported for encrypted channels")}handleEvent(n){var r=n.event,c=n.data;if(r.indexOf("pusher_internal:")===0||r.indexOf("pusher:")===0){super.handleEvent(n);return}this.handleEncryptedEvent(r,c)}handleEncryptedEvent(n,r){if(!this.key){x.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!r.ciphertext||!r.nonce){x.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+r);return}let c=Object(je.decode)(r.ciphertext);if(c.length<this.nacl.secretbox.overheadLength){x.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${c.length}`);return}let l=Object(je.decode)(r.nonce);if(l.length<this.nacl.secretbox.nonceLength){x.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${l.length}`);return}let f=this.nacl.secretbox.open(c,l,this.key);if(f===null){x.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(g,v)=>{if(g){x.error(`Failed to make a request to the authEndpoint: ${v}. Unable to fetch new key, so dropping encrypted event`);return}if(f=this.nacl.secretbox.open(c,l,this.key),f===null){x.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(n,this.getDataToEmit(f))});return}this.emit(n,this.getDataToEmit(f))}getDataToEmit(n){let r=Object(zr.decode)(n);try{return JSON.parse(r)}catch{return r}}}class Yr extends at{constructor(n,r){super(),this.state="initialized",this.connection=null,this.key=n,this.options=r,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var c=A.getNetwork();c.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),c.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}switchCluster(n){this.key=n,this.updateStrategy(),this.retryIn(0)}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(n){return this.connection?this.connection.send(n):!1}send_event(n,r,c){return this.connection?this.connection.send_event(n,r,c):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var n=(r,c)=>{r?this.runner=this.strategy.connect(0,n):c.action==="error"?(this.emit("error",{type:"HandshakeError",error:c.error}),this.timeline.error({handshakeError:c.error})):(this.abortConnecting(),this.handshakeCallbacks[c.action](c))};this.runner=this.strategy.connect(0,n)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var n=this.abandonConnection();n.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(n){this.timeline.info({action:"retry",delay:n}),n>0&&this.emit("connecting_in",Math.round(n/1e3)),this.retryTimer=new Et(n||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new Et(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Et(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Et(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(n){return F({},n,{message:r=>{this.resetActivityCheck(),this.emit("message",r)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:r=>{this.emit("error",r)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(n){return F({},n,{connected:r=>{this.activityTimeout=Math.min(this.options.activityTimeout,r.activityTimeout,r.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(r.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let n=r=>c=>{c.error&&this.emit("error",{type:"WebSocketError",error:c.error}),r(c)};return{tls_only:n(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:n(()=>{this.disconnect()}),backoff:n(()=>{this.retryIn(1e3)}),retry:n(()=>{this.retryIn(0)})}}setConnection(n){this.connection=n;for(var r in this.connectionCallbacks)this.connection.bind(r,this.connectionCallbacks[r]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var n in this.connectionCallbacks)this.connection.unbind(n,this.connectionCallbacks[n]);var r=this.connection;return this.connection=null,r}}updateState(n,r){var c=this.state;if(this.state=n,c!==n){var l=n;l==="connected"&&(l+=" with new socket ID "+r.socket_id),x.debug("State changed",c+" -> "+l),this.timeline.info({state:n,params:r}),this.emit("state_change",{previous:c,current:n}),this.emit(n,r)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Xr{constructor(){this.channels={}}add(n,r){return this.channels[n]||(this.channels[n]=Gr(n,r)),this.channels[n]}all(){return hr(this.channels)}find(n){return this.channels[n]}remove(n){var r=this.channels[n];return delete this.channels[n],r}disconnect(){ot(this.channels,function(n){n.disconnect()})}}function Gr(o,n){if(o.indexOf("private-encrypted-")===0){if(n.config.nacl)return ct.createEncryptedChannel(o,n,n.config.nacl);let r="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",c=P.buildLogSuffix("encryptedChannelSupport");throw new U(`${r}. ${c}`)}else{if(o.indexOf("private-")===0)return ct.createPrivateChannel(o,n);if(o.indexOf("presence-")===0)return ct.createPresenceChannel(o,n);if(o.indexOf("#")===0)throw new b('Cannot create a channel with name "'+o+'".');return ct.createChannel(o,n)}}var Jr={createChannels(){return new Xr},createConnectionManager(o,n){return new Yr(o,n)},createChannel(o,n){return new He(o,n)},createPrivateChannel(o,n){return new Ve(o,n)},createPresenceChannel(o,n){return new Wr(o,n)},createEncryptedChannel(o,n,r){return new Kr(o,n,r)},createTimelineSender(o,n){return new Ur(o,n)},createHandshake(o,n){return new jr(o,n)},createAssistantToTheTransportManager(o,n,r){return new Hr(o,n,r)}},ct=Jr;class Xn{constructor(n){this.options=n||{},this.livesLeft=this.options.lives||1/0}getAssistant(n){return ct.createAssistantToTheTransportManager(this,n,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Tt{constructor(n,r){this.strategies=n,this.loop=!!r.loop,this.failFast=!!r.failFast,this.timeout=r.timeout,this.timeoutLimit=r.timeoutLimit}isSupported(){return Un(this.strategies,q.method("isSupported"))}connect(n,r){var c=this.strategies,l=0,f=this.timeout,g=null,v=(C,I)=>{I?r(null,I):(l=l+1,this.loop&&(l=l%c.length),l<c.length?(f&&(f=f*2,this.timeoutLimit&&(f=Math.min(f,this.timeoutLimit))),g=this.tryStrategy(c[l],n,{timeout:f,failFast:this.failFast},v)):r(!0))};return g=this.tryStrategy(c[l],n,{timeout:f,failFast:this.failFast},v),{abort:function(){g.abort()},forceMinPriority:function(C){n=C,g&&g.forceMinPriority(C)}}}tryStrategy(n,r,c,l){var f=null,g=null;return c.timeout>0&&(f=new Et(c.timeout,function(){g.abort(),l(!0)})),g=n.connect(r,function(v,C){v&&f&&f.isRunning()&&!c.failFast||(f&&f.ensureAborted(),l(v,C))}),{abort:function(){f&&f.ensureAborted(),g.abort()},forceMinPriority:function(v){g.forceMinPriority(v)}}}}class Ue{constructor(n){this.strategies=n}isSupported(){return Un(this.strategies,q.method("isSupported"))}connect(n,r){return Qr(this.strategies,n,function(c,l){return function(f,g){if(l[c].error=f,f){Zr(l)&&r(!0);return}qt(l,function(v){v.forceMinPriority(g.transport.priority)}),r(null,g)}})}}function Qr(o,n,r){var c=Hn(o,function(l,f,g,v){return l.connect(n,r(f,v))});return{abort:function(){qt(c,to)},forceMinPriority:function(l){qt(c,function(f){f.forceMinPriority(l)})}}}function Zr(o){return fr(o,function(n){return!!n.error})}function to(o){!o.error&&!o.aborted&&(o.abort(),o.aborted=!0)}class eo{constructor(n,r,c){this.strategy=n,this.transports=r,this.ttl=c.ttl||1800*1e3,this.usingTLS=c.useTLS,this.timeline=c.timeline}isSupported(){return this.strategy.isSupported()}connect(n,r){var c=this.usingTLS,l=no(c),f=l&&l.cacheSkipCount?l.cacheSkipCount:0,g=[this.strategy];if(l&&l.timestamp+this.ttl>=q.now()){var v=this.transports[l.transport];v&&(["ws","wss"].includes(l.transport)||f>3?(this.timeline.info({cached:!0,transport:l.transport,latency:l.latency}),g.push(new Tt([v],{timeout:l.latency*2+1e3,failFast:!0}))):f++)}var C=q.now(),I=g.pop().connect(n,function R($,ae){$?(Gn(c),g.length>0?(C=q.now(),I=g.pop().connect(n,R)):r($)):(so(c,ae.transport.name,q.now()-C,f),r(null,ae))});return{abort:function(){I.abort()},forceMinPriority:function(R){n=R,I&&I.forceMinPriority(R)}}}}function qe(o){return"pusherTransport"+(o?"TLS":"NonTLS")}function no(o){var n=A.getLocalStorage();if(n)try{var r=n[qe(o)];if(r)return JSON.parse(r)}catch{Gn(o)}return null}function so(o,n,r,c){var l=A.getLocalStorage();if(l)try{l[qe(o)]=se({timestamp:q.now(),transport:n,latency:r,cacheSkipCount:c})}catch{}}function Gn(o){var n=A.getLocalStorage();if(n)try{delete n[qe(o)]}catch{}}class re{constructor(n,{delay:r}){this.strategy=n,this.options={delay:r}}isSupported(){return this.strategy.isSupported()}connect(n,r){var c=this.strategy,l,f=new Et(this.options.delay,function(){l=c.connect(n,r)});return{abort:function(){f.ensureAborted(),l&&l.abort()},forceMinPriority:function(g){n=g,l&&l.forceMinPriority(g)}}}}class Ft{constructor(n,r,c){this.test=n,this.trueBranch=r,this.falseBranch=c}isSupported(){var n=this.test()?this.trueBranch:this.falseBranch;return n.isSupported()}connect(n,r){var c=this.test()?this.trueBranch:this.falseBranch;return c.connect(n,r)}}class ro{constructor(n){this.strategy=n}isSupported(){return this.strategy.isSupported()}connect(n,r){var c=this.strategy.connect(n,function(l,f){f&&c.abort(),r(l,f)});return c}}function Wt(o){return function(){return o.isSupported()}}var oo=function(o,n,r){var c={};function l(hs,ra,oa,aa,ca){var ls=r(o,hs,ra,oa,aa,ca);return c[hs]=ls,ls}var f=Object.assign({},n,{hostNonTLS:o.wsHost+":"+o.wsPort,hostTLS:o.wsHost+":"+o.wssPort,httpPath:o.wsPath}),g=Object.assign({},f,{useTLS:!0}),v=Object.assign({},n,{hostNonTLS:o.httpHost+":"+o.httpPort,hostTLS:o.httpHost+":"+o.httpsPort,httpPath:o.httpPath}),C={loop:!0,timeout:15e3,timeoutLimit:6e4},I=new Xn({minPingDelay:1e4,maxPingDelay:o.activityTimeout}),R=new Xn({lives:2,minPingDelay:1e4,maxPingDelay:o.activityTimeout}),$=l("ws","ws",3,f,I),ae=l("wss","ws",3,g,I),ta=l("sockjs","sockjs",1,v),ss=l("xhr_streaming","xhr_streaming",1,v,R),ea=l("xdr_streaming","xdr_streaming",1,v,R),is=l("xhr_polling","xhr_polling",1,v),na=l("xdr_polling","xdr_polling",1,v),rs=new Tt([$],C),sa=new Tt([ae],C),ia=new Tt([ta],C),os=new Tt([new Ft(Wt(ss),ss,ea)],C),as=new Tt([new Ft(Wt(is),is,na)],C),cs=new Tt([new Ft(Wt(os),new Ue([os,new re(as,{delay:4e3})]),as)],C),Ke=new Ft(Wt(cs),cs,ia),Ye;return n.useTLS?Ye=new Ue([rs,new re(Ke,{delay:2e3})]):Ye=new Ue([rs,new re(sa,{delay:2e3}),new re(Ke,{delay:5e3})]),new eo(new ro(new Ft(Wt($),Ye,Ke)),c,{ttl:18e5,timeline:n.timeline,useTLS:n.useTLS})},ao=oo,co=function(){var o=this;o.timeline.info(o.buildTimelineMessage({transport:o.name+(o.options.useTLS?"s":"")})),o.hooks.isInitialized()?o.changeState("initialized"):o.hooks.file?(o.changeState("initializing"),T.load(o.hooks.file,{useTLS:o.options.useTLS},function(n,r){o.hooks.isInitialized()?(o.changeState("initialized"),r(!0)):(n&&o.onError(n),o.onClose(),r(!1))})):o.onClose()},ho={getRequest:function(o){var n=new window.XDomainRequest;return n.ontimeout=function(){o.emit("error",new S),o.close()},n.onerror=function(r){o.emit("error",r),o.close()},n.onprogress=function(){n.responseText&&n.responseText.length>0&&o.onChunk(200,n.responseText)},n.onload=function(){n.responseText&&n.responseText.length>0&&o.onChunk(200,n.responseText),o.emit("finished",200),o.close()},n},abortRequest:function(o){o.ontimeout=o.onerror=o.onprogress=o.onload=null,o.abort()}},lo=ho;const uo=256*1024;class fo extends at{constructor(n,r,c){super(),this.hooks=n,this.method=r,this.url=c}start(n){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},A.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(n)}close(){this.unloader&&(A.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(n,r){for(;;){var c=this.advanceBuffer(r);if(c)this.emit("chunk",{status:n,data:c});else break}this.isBufferTooLong(r)&&this.emit("buffer_too_long")}advanceBuffer(n){var r=n.slice(this.position),c=r.indexOf(`
`);return c!==-1?(this.position+=c+1,r.slice(0,c)):null}isBufferTooLong(n){return this.position===n.length&&n.length>uo}}var Fe;(function(o){o[o.CONNECTING=0]="CONNECTING",o[o.OPEN=1]="OPEN",o[o.CLOSED=3]="CLOSED"})(Fe||(Fe={}));var Ct=Fe,po=1;class _o{constructor(n,r){this.hooks=n,this.session=Qn(1e3)+"/"+vo(8),this.location=go(r),this.readyState=Ct.CONNECTING,this.openStream()}send(n){return this.sendRaw(JSON.stringify([n]))}ping(){this.hooks.sendHeartbeat(this)}close(n,r){this.onClose(n,r,!0)}sendRaw(n){if(this.readyState===Ct.OPEN)try{return A.createSocketRequest("POST",Jn(mo(this.location,this.session))).start(n),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(n,r,c){this.closeStream(),this.readyState=Ct.CLOSED,this.onclose&&this.onclose({code:n,reason:r,wasClean:c})}onChunk(n){if(n.status===200){this.readyState===Ct.OPEN&&this.onActivity();var r,c=n.data.slice(0,1);switch(c){case"o":r=JSON.parse(n.data.slice(1)||"{}"),this.onOpen(r);break;case"a":r=JSON.parse(n.data.slice(1)||"[]");for(var l=0;l<r.length;l++)this.onEvent(r[l]);break;case"m":r=JSON.parse(n.data.slice(1)||"null"),this.onEvent(r);break;case"h":this.hooks.onHeartbeat(this);break;case"c":r=JSON.parse(n.data.slice(1)||"[]"),this.onClose(r[0],r[1],!0);break}}}onOpen(n){this.readyState===Ct.CONNECTING?(n&&n.hostname&&(this.location.base=bo(this.location.base,n.hostname)),this.readyState=Ct.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(n){this.readyState===Ct.OPEN&&this.onmessage&&this.onmessage({data:n})}onActivity(){this.onactivity&&this.onactivity()}onError(n){this.onerror&&this.onerror(n)}openStream(){this.stream=A.createSocketRequest("POST",Jn(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",n=>{this.onChunk(n)}),this.stream.bind("finished",n=>{this.hooks.onFinished(this,n)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(n){q.defer(()=>{this.onError(n),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function go(o){var n=/([^\?]*)\/*(\??.*)/.exec(o);return{base:n[1],queryString:n[2]}}function mo(o,n){return o.base+"/"+n+"/xhr_send"}function Jn(o){var n=o.indexOf("?")===-1?"?":"&";return o+n+"t="+ +new Date+"&n="+po++}function bo(o,n){var r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(o);return r[1]+n+r[3]}function Qn(o){return A.randomInt(o)}function vo(o){for(var n=[],r=0;r<o;r++)n.push(Qn(32).toString(32));return n.join("")}var yo=_o,Eo={getReceiveURL:function(o,n){return o.base+"/"+n+"/xhr_streaming"+o.queryString},onHeartbeat:function(o){o.sendRaw("[]")},sendHeartbeat:function(o){o.sendRaw("[]")},onFinished:function(o,n){o.onClose(1006,"Connection interrupted ("+n+")",!1)}},wo=Eo,To={getReceiveURL:function(o,n){return o.base+"/"+n+"/xhr"+o.queryString},onHeartbeat:function(){},sendHeartbeat:function(o){o.sendRaw("[]")},onFinished:function(o,n){n===200?o.reconnect():o.onClose(1006,"Connection interrupted ("+n+")",!1)}},Co=To,Ao={getRequest:function(o){var n=A.getXHRAPI(),r=new n;return r.onreadystatechange=r.onprogress=function(){switch(r.readyState){case 3:r.responseText&&r.responseText.length>0&&o.onChunk(r.status,r.responseText);break;case 4:r.responseText&&r.responseText.length>0&&o.onChunk(r.status,r.responseText),o.emit("finished",r.status),o.close();break}},r},abortRequest:function(o){o.onreadystatechange=null,o.abort()}},So=Ao,ko={createStreamingSocket(o){return this.createSocket(wo,o)},createPollingSocket(o){return this.createSocket(Co,o)},createSocket(o,n){return new yo(o,n)},createXHR(o,n){return this.createRequest(So,o,n)},createRequest(o,n,r){return new fo(o,n,r)}},Zn=ko;Zn.createXDR=function(o,n){return this.createRequest(lo,o,n)};var Oo=Zn,No={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u,DependenciesReceivers:y,getDefaultStrategy:ao,Transports:$r,transportConnectionInitializer:co,HTTPFactory:Oo,TimelineTransport:Tr,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(o){window.Pusher=o;var n=()=>{this.onDocumentBody(o.ready)};window.JSON?n():T.load("json2",{},n)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:pt,jsonp:br}},onDocumentBody(o){document.body?o():setTimeout(()=>{this.onDocumentBody(o)},0)},createJSONPRequest(o,n){return new yr(o,n)},createScriptRequest(o){return new vr(o)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var o=this.getXHRAPI();return new o},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Br},createWebSocket(o){var n=this.getWebSocketAPI();return new n(o)},createSocketRequest(o,n){if(this.isXHRSupported())return this.HTTPFactory.createXHR(o,n);if(this.isXDRSupported(n.indexOf("https:")===0))return this.HTTPFactory.createXDR(o,n);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var o=this.getXHRAPI();return!!o&&new o().withCredentials!==void 0},isXDRSupported(o){var n=o?"https:":"http:",r=this.getProtocol();return!!window.XDomainRequest&&r===n},addUnloadListener(o){window.addEventListener!==void 0?window.addEventListener("unload",o,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",o)},removeUnloadListener(o){window.addEventListener!==void 0?window.removeEventListener("unload",o,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",o)},randomInt(o){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*o)}},A=No,We;(function(o){o[o.ERROR=3]="ERROR",o[o.INFO=6]="INFO",o[o.DEBUG=7]="DEBUG"})(We||(We={}));var oe=We;class Lo{constructor(n,r,c){this.key=n,this.session=r,this.events=[],this.options=c||{},this.sent=0,this.uniqueID=0}log(n,r){n<=this.options.level&&(this.events.push(F({},r,{timestamp:q.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(n){this.log(oe.ERROR,n)}info(n){this.log(oe.INFO,n)}debug(n){this.log(oe.DEBUG,n)}isEmpty(){return this.events.length===0}send(n,r){var c=F({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],n(c,(l,f)=>{l||this.sent++,r&&r(l,f)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Po{constructor(n,r,c,l){this.name=n,this.priority=r,this.transport=c,this.options=l||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(n,r){if(this.isSupported()){if(this.priority<n)return ts(new D,r)}else return ts(new it,r);var c=!1,l=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),f=null,g=function(){l.unbind("initialized",g),l.connect()},v=function(){f=ct.createHandshake(l,function($){c=!0,R(),r(null,$)})},C=function($){R(),r($)},I=function(){R();var $;$=se(l),r(new j($))},R=function(){l.unbind("initialized",g),l.unbind("open",v),l.unbind("error",C),l.unbind("closed",I)};return l.bind("initialized",g),l.bind("open",v),l.bind("error",C),l.bind("closed",I),l.initialize(),{abort:()=>{c||(R(),f?f.close():l.close())},forceMinPriority:$=>{c||this.priority<$&&(f?f.close():l.close())}}}}function ts(o,n){return q.defer(function(){n(o)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Io}=A;var Ro=function(o,n,r,c,l,f){var g=Io[r];if(!g)throw new J(r);var v=(!o.enabledTransports||Mn(o.enabledTransports,n)!==-1)&&(!o.disabledTransports||Mn(o.disabledTransports,n)===-1),C;return v?(l=Object.assign({ignoreNullOrigin:o.ignoreNullOrigin},l),C=new Po(n,c,f?f.getAssistant(g):g,l)):C=Do,C},Do={isSupported:function(){return!1},connect:function(o,n){var r=q.defer(function(){n(new it)});return{abort:function(){r.ensureAborted()},forceMinPriority:function(){}}}};function xo(o){if(o==null)throw"You must pass an options object";if(o.cluster==null)throw"Options object must provide a cluster";"disableStats"in o&&x.warn("The disableStats option is deprecated in favor of enableStats")}const $o=(o,n)=>{var r="socket_id="+encodeURIComponent(o.socketId);for(var c in n.params)r+="&"+encodeURIComponent(c)+"="+encodeURIComponent(n.params[c]);if(n.paramsProvider!=null){let l=n.paramsProvider();for(var c in l)r+="&"+encodeURIComponent(c)+"="+encodeURIComponent(l[c])}return r};var Mo=o=>{if(typeof A.getAuthorizers()[o.transport]>"u")throw`'${o.transport}' is not a recognized auth transport`;return(n,r)=>{const c=$o(n,o);A.getAuthorizers()[o.transport](A,c,o,E.UserAuthentication,r)}};const Bo=(o,n)=>{var r="socket_id="+encodeURIComponent(o.socketId);r+="&channel_name="+encodeURIComponent(o.channelName);for(var c in n.params)r+="&"+encodeURIComponent(c)+"="+encodeURIComponent(n.params[c]);if(n.paramsProvider!=null){let l=n.paramsProvider();for(var c in l)r+="&"+encodeURIComponent(c)+"="+encodeURIComponent(l[c])}return r};var Ho=o=>{if(typeof A.getAuthorizers()[o.transport]>"u")throw`'${o.transport}' is not a recognized auth transport`;return(n,r)=>{const c=Bo(n,o);A.getAuthorizers()[o.transport](A,c,o,E.ChannelAuthorization,r)}};const Vo=(o,n,r)=>{const c={authTransport:n.transport,authEndpoint:n.endpoint,auth:{params:n.params,headers:n.headers}};return(l,f)=>{const g=o.channel(l.channelName);r(g,c).authorize(l.socketId,f)}};function es(o,n){let r={activityTimeout:o.activityTimeout||_.activityTimeout,cluster:o.cluster,httpPath:o.httpPath||_.httpPath,httpPort:o.httpPort||_.httpPort,httpsPort:o.httpsPort||_.httpsPort,pongTimeout:o.pongTimeout||_.pongTimeout,statsHost:o.statsHost||_.stats_host,unavailableTimeout:o.unavailableTimeout||_.unavailableTimeout,wsPath:o.wsPath||_.wsPath,wsPort:o.wsPort||_.wsPort,wssPort:o.wssPort||_.wssPort,enableStats:Wo(o),httpHost:jo(o),useTLS:Fo(o),wsHost:Uo(o),userAuthenticator:zo(o),channelAuthorizer:Yo(o,n)};return"disabledTransports"in o&&(r.disabledTransports=o.disabledTransports),"enabledTransports"in o&&(r.enabledTransports=o.enabledTransports),"ignoreNullOrigin"in o&&(r.ignoreNullOrigin=o.ignoreNullOrigin),"timelineParams"in o&&(r.timelineParams=o.timelineParams),"nacl"in o&&(r.nacl=o.nacl),r}function jo(o){return o.httpHost?o.httpHost:o.cluster?`sockjs-${o.cluster}.pusher.com`:_.httpHost}function Uo(o){return o.wsHost?o.wsHost:qo(o.cluster)}function qo(o){return`ws-${o}.pusher.com`}function Fo(o){return A.getProtocol()==="https:"?!0:o.forceTLS!==!1}function Wo(o){return"enableStats"in o?o.enableStats:"disableStats"in o?!o.disableStats:!1}const ns=o=>"customHandler"in o&&o.customHandler!=null;function zo(o){const n=Object.assign(Object.assign({},_.userAuthentication),o.userAuthentication);return ns(n)?n.customHandler:Mo(n)}function Ko(o,n){let r;if("channelAuthorization"in o)r=Object.assign(Object.assign({},_.channelAuthorization),o.channelAuthorization);else if(r={transport:o.authTransport||_.authTransport,endpoint:o.authEndpoint||_.authEndpoint},"auth"in o&&("params"in o.auth&&(r.params=o.auth.params),"headers"in o.auth&&(r.headers=o.auth.headers)),"authorizer"in o)return{customHandler:Vo(n,r,o.authorizer)};return r}function Yo(o,n){const r=Ko(o,n);return ns(r)?r.customHandler:Ho(r)}class Xo extends at{constructor(n){super(function(r,c){x.debug(`No callbacks on watchlist events for ${r}`)}),this.pusher=n,this.bindWatchlistInternalEvent()}handleEvent(n){n.data.events.forEach(r=>{this.emit(r.name,r)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",n=>{var r=n.event;r==="pusher_internal:watchlist_events"&&this.handleEvent(n)})}}function Go(){let o,n;return{promise:new Promise((c,l)=>{o=c,n=l}),resolve:o,reject:n}}var Jo=Go;class Qo extends at{constructor(n){super(function(r,c){x.debug("No callbacks on user for "+r)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(r,c)=>{if(r){x.warn(`Error during signin: ${r}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:c.auth,user_data:c.user_data})},this.pusher=n,this.pusher.connection.bind("state_change",({previous:r,current:c})=>{r!=="connected"&&c==="connected"&&this._signin(),r==="connected"&&c!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Xo(n),this.pusher.connection.bind("message",r=>{var c=r.event;c==="pusher:signin_success"&&this._onSigninSuccess(r.data),this.serverToUserChannel&&this.serverToUserChannel.name===r.channel&&this.serverToUserChannel.handleEvent(r)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(n){try{this.user_data=JSON.parse(n.user_data)}catch{x.error(`Failed parsing user data after signin: ${n.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){x.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const n=r=>{r.subscriptionPending&&r.subscriptionCancelled?r.reinstateSubscription():!r.subscriptionPending&&this.pusher.connection.state==="connected"&&r.subscribe()};this.serverToUserChannel=new He(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((r,c)=>{r.indexOf("pusher_internal:")===0||r.indexOf("pusher:")===0||this.emit(r,c)}),n(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:n,resolve:r,reject:c}=Jo();n.done=!1;const l=()=>{n.done=!0};n.then(l).catch(l),this.signinDonePromise=n,this._signinDoneResolve=r}}class B{static ready(){B.isReady=!0;for(var n=0,r=B.instances.length;n<r;n++)B.instances[n].connect()}static getClientFeatures(){return Bn(jn({ws:A.Transports.ws},function(n){return n.isSupported({})}))}constructor(n,r){Zo(n),xo(r),this.key=n,this.options=r,this.config=es(this.options,this),this.channels=ct.createChannels(),this.global_emitter=new at,this.sessionID=A.randomInt(1e9),this.timeline=new Lo(this.key,this.sessionID,{cluster:this.config.cluster,features:B.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:oe.INFO,version:_.VERSION}),this.config.enableStats&&(this.timelineSender=ct.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+A.TimelineTransport.name}));var c=l=>A.getDefaultStrategy(this.config,l,Ro);this.connection=ct.createConnectionManager(this.key,{getStrategy:c,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",l=>{var f=l.event,g=f.indexOf("pusher_internal:")===0;if(l.channel){var v=this.channel(l.channel);v&&v.handleEvent(l)}g||this.global_emitter.emit(l.event,l.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",l=>{x.warn(l)}),B.instances.push(this),this.timeline.info({instances:B.instances.length}),this.user=new Qo(this),B.isReady&&this.connect()}switchCluster(n){const{appKey:r,cluster:c}=n;this.key=r,this.options=Object.assign(Object.assign({},this.options),{cluster:c}),this.config=es(this.options,this),this.connection.switchCluster(this.key)}channel(n){return this.channels.find(n)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var n=this.connection.isUsingTLS(),r=this.timelineSender;this.timelineSenderTimer=new or(6e4,function(){r.send(n)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(n,r,c){return this.global_emitter.bind(n,r,c),this}unbind(n,r,c){return this.global_emitter.unbind(n,r,c),this}bind_global(n){return this.global_emitter.bind_global(n),this}unbind_global(n){return this.global_emitter.unbind_global(n),this}unbind_all(n){return this.global_emitter.unbind_all(),this}subscribeAll(){var n;for(n in this.channels.channels)this.channels.channels.hasOwnProperty(n)&&this.subscribe(n)}subscribe(n){var r=this.channels.add(n,this);return r.subscriptionPending&&r.subscriptionCancelled?r.reinstateSubscription():!r.subscriptionPending&&this.connection.state==="connected"&&r.subscribe(),r}unsubscribe(n){var r=this.channels.find(n);r&&r.subscriptionPending?r.cancelSubscription():(r=this.channels.remove(n),r&&r.subscribed&&r.unsubscribe())}send_event(n,r,c){return this.connection.send_event(n,r,c)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}B.instances=[],B.isReady=!1,B.logToConsole=!1,B.Runtime=A,B.ScriptReceivers=A.ScriptReceivers,B.DependenciesReceivers=A.DependenciesReceivers,B.auth_callbacks=A.auth_callbacks;var ze=s.default=B;function Zo(o){if(o==null)throw"You must pass your app key when you instantiate Pusher."}A.setup(B)}])})})($i);var mf=$i.exports;const Mi=ja(mf),st=Object.create(null);st.open="0";st.close="1";st.ping="2";st.pong="3";st.message="4";st.upgrade="5";st.noop="6";const ye=Object.create(null);Object.keys(st).forEach(i=>{ye[st[i]]=i});const gn={type:"error",data:"parser error"},Bi=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Hi=typeof ArrayBuffer=="function",Vi=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,Ln=({type:i,data:t},e,s)=>Bi&&t instanceof Blob?e?s(t):js(t,s):Hi&&(t instanceof ArrayBuffer||Vi(t))?e?s(t):js(new Blob([t]),s):s(st[i]+(t||"")),js=(i,t)=>{const e=new FileReader;return e.onload=function(){const s=e.result.split(",")[1];t("b"+(s||""))},e.readAsDataURL(i)};function Us(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}let hn;function bf(i,t){if(Bi&&i.data instanceof Blob)return i.data.arrayBuffer().then(Us).then(t);if(Hi&&(i.data instanceof ArrayBuffer||Vi(i.data)))return t(Us(i.data));Ln(i,!1,e=>{hn||(hn=new TextEncoder),t(hn.encode(e))})}const qs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<qs.length;i++)Xt[qs.charCodeAt(i)]=i;const vf=i=>{let t=i.length*.75,e=i.length,s,a=0,h,u,d,_;i[i.length-1]==="="&&(t--,i[i.length-2]==="="&&t--);const L=new ArrayBuffer(t),y=new Uint8Array(L);for(s=0;s<e;s+=4)h=Xt[i.charCodeAt(s)],u=Xt[i.charCodeAt(s+1)],d=Xt[i.charCodeAt(s+2)],_=Xt[i.charCodeAt(s+3)],y[a++]=h<<2|u>>4,y[a++]=(u&15)<<4|d>>2,y[a++]=(d&3)<<6|_&63;return L},yf=typeof ArrayBuffer=="function",Pn=(i,t)=>{if(typeof i!="string")return{type:"message",data:ji(i,t)};const e=i.charAt(0);return e==="b"?{type:"message",data:Ef(i.substring(1),t)}:ye[e]?i.length>1?{type:ye[e],data:i.substring(1)}:{type:ye[e]}:gn},Ef=(i,t)=>{if(yf){const e=vf(i);return ji(e,t)}else return{base64:!0,data:i}},ji=(i,t)=>{switch(t){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}},Ui=String.fromCharCode(30),wf=(i,t)=>{const e=i.length,s=new Array(e);let a=0;i.forEach((h,u)=>{Ln(h,!1,d=>{s[u]=d,++a===e&&t(s.join(Ui))})})},Tf=(i,t)=>{const e=i.split(Ui),s=[];for(let a=0;a<e.length;a++){const h=Pn(e[a],t);if(s.push(h),h.type==="error")break}return s};function Cf(){return new TransformStream({transform(i,t){bf(i,e=>{const s=e.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const h=new DataView(a.buffer);h.setUint8(0,126),h.setUint16(1,s)}else{a=new Uint8Array(9);const h=new DataView(a.buffer);h.setUint8(0,127),h.setBigUint64(1,BigInt(s))}i.data&&typeof i.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(e)})}})}let ln;function pe(i){return i.reduce((t,e)=>t+e.length,0)}function _e(i,t){if(i[0].length===t)return i.shift();const e=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)e[a]=i[0][s++],s===i[0].length&&(i.shift(),s=0);return i.length&&s<i[0].length&&(i[0]=i[0].slice(s)),e}function Af(i,t){ln||(ln=new TextDecoder);const e=[];let s=0,a=-1,h=!1;return new TransformStream({transform(u,d){for(e.push(u);;){if(s===0){if(pe(e)<1)break;const _=_e(e,1);h=(_[0]&128)===128,a=_[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(pe(e)<2)break;const _=_e(e,2);a=new DataView(_.buffer,_.byteOffset,_.length).getUint16(0),s=3}else if(s===2){if(pe(e)<8)break;const _=_e(e,8),L=new DataView(_.buffer,_.byteOffset,_.length),y=L.getUint32(0);if(y>Math.pow(2,53-32)-1){d.enqueue(gn);break}a=y*Math.pow(2,32)+L.getUint32(4),s=3}else{if(pe(e)<a)break;const _=_e(e,a);d.enqueue(Pn(h?_:ln.decode(_),t)),s=0}if(a===0||a>i){d.enqueue(gn);break}}}})}const qi=4;function M(i){if(i)return Sf(i)}function Sf(i){for(var t in M.prototype)i[t]=M.prototype[t];return i}M.prototype.on=M.prototype.addEventListener=function(i,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(t),this};M.prototype.once=function(i,t){function e(){this.off(i,e),t.apply(this,arguments)}return e.fn=t,this.on(i,e),this};M.prototype.off=M.prototype.removeListener=M.prototype.removeAllListeners=M.prototype.removeEventListener=function(i,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var s,a=0;a<e.length;a++)if(s=e[a],s===t||s.fn===t){e.splice(a,1);break}return e.length===0&&delete this._callbacks["$"+i],this};M.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+i],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(e){e=e.slice(0);for(var s=0,a=e.length;s<a;++s)e[s].apply(this,t)}return this};M.prototype.emitReserved=M.prototype.emit;M.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};M.prototype.hasListeners=function(i){return!!this.listeners(i).length};const Y=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Fi(i,...t){return t.reduce((e,s)=>(i.hasOwnProperty(s)&&(e[s]=i[s]),e),{})}const kf=Y.setTimeout,Of=Y.clearTimeout;function xe(i,t){t.useNativeTimers?(i.setTimeoutFn=kf.bind(Y),i.clearTimeoutFn=Of.bind(Y)):(i.setTimeoutFn=Y.setTimeout.bind(Y),i.clearTimeoutFn=Y.clearTimeout.bind(Y))}const Nf=1.33;function Lf(i){return typeof i=="string"?Pf(i):Math.ceil((i.byteLength||i.size)*Nf)}function Pf(i){let t=0,e=0;for(let s=0,a=i.length;s<a;s++)t=i.charCodeAt(s),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(s++,e+=4);return e}function If(i){let t="";for(let e in i)i.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return t}function Rf(i){let t={},e=i.split("&");for(let s=0,a=e.length;s<a;s++){let h=e[s].split("=");t[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}return t}class Df extends Error{constructor(t,e,s){super(t),this.description=e,this.context=s,this.type="TransportError"}}class In extends M{constructor(t){super(),this.writable=!1,xe(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,e,s){return super.emitReserved("error",new Df(t,e,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=Pn(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const e=If(t);return e.length?"?"+e:""}}const Wi="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),mn=64,xf={};let Fs=0,ge=0,Ws;function zs(i){let t="";do t=Wi[i%mn]+t,i=Math.floor(i/mn);while(i>0);return t}function zi(){const i=zs(+new Date);return i!==Ws?(Fs=0,Ws=i):i+"."+zs(Fs++)}for(;ge<mn;ge++)xf[Wi[ge]]=ge;let Ki=!1;try{Ki=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const $f=Ki;function Yi(i){const t=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||$f))return new XMLHttpRequest}catch{}if(!t)try{return new Y[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Mf(){}const Bf=function(){return new Yi({xdomain:!1}).responseType!=null}();class Hf extends In{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}const e=t&&t.forceBase64;this.supportsBinary=Bf&&!e,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||e()})),this.writable||(s++,this.once("drain",function(){--s||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const e=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Tf(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,wf(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=zi()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new nt(this.uri(),t)}doWrite(t,e){const s=this.request({method:"POST",data:t});s.on("success",e),s.on("error",(a,h)=>{this.onError("xhr post error",a,h)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,s)=>{this.onError("xhr poll error",e,s)}),this.pollXhr=t}}class nt extends M{constructor(t,e){super(),xe(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.data=e.data!==void 0?e.data:null,this.create()}create(){var t;const e=Fi(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;const s=this.xhr=new Yi(e);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=nt.requestsCount++,nt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Mf,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete nt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}nt.requestsCount=0;nt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ks);else if(typeof addEventListener=="function"){const i="onpagehide"in Y?"pagehide":"unload";addEventListener(i,Ks,!1)}}function Ks(){for(let i in nt.requests)nt.requests.hasOwnProperty(i)&&nt.requests[i].abort()}const Rn=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0))(),me=Y.WebSocket||Y.MozWebSocket,Ys=!0,Vf="arraybuffer",Xs=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class jf extends In{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,s=Xs?{}:Fi(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=Ys&&!Xs?e?new me(t,e):new me(t):new me(t,e,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],a=e===t.length-1;Ln(s,this.supportsBinary,h=>{const u={};try{Ys&&this.ws.send(h)}catch{}a&&Rn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=zi()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}check(){return!!me}}class Uf extends In{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const e=Af(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(e).getReader(),a=Cf();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const h=()=>{s.read().then(({done:d,value:_})=>{d||(this.onPacket(_),h())}).catch(d=>{})};h();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this.writer.write(u).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],a=e===t.length-1;this.writer.write(s).then(()=>{a&&Rn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const qf={websocket:jf,webtransport:Uf,polling:Hf},Ff=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Wf=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function bn(i){if(i.length>2e3)throw"URI too long";const t=i,e=i.indexOf("["),s=i.indexOf("]");e!=-1&&s!=-1&&(i=i.substring(0,e)+i.substring(e,s).replace(/:/g,";")+i.substring(s,i.length));let a=Ff.exec(i||""),h={},u=14;for(;u--;)h[Wf[u]]=a[u]||"";return e!=-1&&s!=-1&&(h.source=t,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h.pathNames=zf(h,h.path),h.queryKey=Kf(h,h.query),h}function zf(i,t){const e=/\/{2,9}/g,s=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Kf(i,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,h){a&&(e[a]=h)}),e}let Xi=class Dt extends M{constructor(t,e={}){super(),this.binaryType=Vf,this.writeBuffer=[],t&&typeof t=="object"&&(e=t,t=null),t?(t=bn(t),e.hostname=t.host,e.secure=t.protocol==="https"||t.protocol==="wss",e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=bn(e.host).host),xe(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Rf(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=qi,e.transport=t,this.id&&(e.sid=this.id);const s=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new qf[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Dt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",e=>this.onClose("transport close",e))}probe(t){let e=this.createTransport(t),s=!1;Dt.priorWebsocketSuccess=!1;const a=()=>{s||(e.send([{type:"ping",data:"probe"}]),e.once("packet",T=>{if(!s)if(T.type==="pong"&&T.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Dt.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(y(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=e.name,this.emitReserved("upgradeError",w)}}))};function h(){s||(s=!0,y(),e.close(),e=null)}const u=T=>{const w=new Error("probe error: "+T);w.transport=e.name,h(),this.emitReserved("upgradeError",w)};function d(){u("transport closed")}function _(){u("socket closed")}function L(T){e&&T.name!==e.name&&h()}const y=()=>{e.removeListener("open",a),e.removeListener("error",u),e.removeListener("close",d),this.off("close",_),this.off("upgrading",L)};e.once("open",a),e.once("error",u),e.once("close",d),this.once("close",_),this.once("upgrading",L),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||e.open()},200):e.open()}onOpen(){if(this.readyState="open",Dt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(e+=Lf(a)),s>0&&e>this.maxPayload)return this.writeBuffer.slice(0,s);e+=2}return this.writeBuffer}write(t,e,s){return this.sendPacket("message",t,e,s),this}send(t,e,s){return this.sendPacket("message",t,e,s),this}sendPacket(t,e,s,a){if(typeof e=="function"&&(a=e,e=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const h={type:t,data:e,options:s};this.emitReserved("packetCreate",h),this.writeBuffer.push(h),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},s=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Dt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}};Xi.protocol=qi;function Yf(i,t="",e){let s=i;e=e||typeof location<"u"&&location,i==null&&(i=e.protocol+"//"+e.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=e.protocol+i:i=e.host+i),/^(https?|wss?):\/\//.test(i)||(typeof e<"u"?i=e.protocol+"//"+i:i="https://"+i),s=bn(i)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const h=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+h+":"+s.port+t,s.href=s.protocol+"://"+h+(e&&e.port===s.port?"":":"+s.port),s}const Xf=typeof ArrayBuffer=="function",Gf=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,Gi=Object.prototype.toString,Jf=typeof Blob=="function"||typeof Blob<"u"&&Gi.call(Blob)==="[object BlobConstructor]",Qf=typeof File=="function"||typeof File<"u"&&Gi.call(File)==="[object FileConstructor]";function Dn(i){return Xf&&(i instanceof ArrayBuffer||Gf(i))||Jf&&i instanceof Blob||Qf&&i instanceof File}function Ee(i,t){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let e=0,s=i.length;e<s;e++)if(Ee(i[e]))return!0;return!1}if(Dn(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Ee(i.toJSON(),!0);for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&Ee(i[e]))return!0;return!1}function Zf(i){const t=[],e=i.data,s=i;return s.data=vn(e,t),s.attachments=t.length,{packet:s,buffers:t}}function vn(i,t){if(!i)return i;if(Dn(i)){const e={_placeholder:!0,num:t.length};return t.push(i),e}else if(Array.isArray(i)){const e=new Array(i.length);for(let s=0;s<i.length;s++)e[s]=vn(i[s],t);return e}else if(typeof i=="object"&&!(i instanceof Date)){const e={};for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=vn(i[s],t));return e}return i}function td(i,t){return i.data=yn(i.data,t),delete i.attachments,i}function yn(i,t){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<t.length)return t[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=yn(i[e],t);else if(typeof i=="object")for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=yn(i[e],t));return i}const ed=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],nd=5;var N;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(N||(N={}));class sd{constructor(t){this.replacer=t}encode(t){return(t.type===N.EVENT||t.type===N.ACK)&&Ee(t)?this.encodeAsBinary({type:t.type===N.EVENT?N.BINARY_EVENT:N.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===N.BINARY_EVENT||t.type===N.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=Zf(t),s=this.encodeAsString(e.packet),a=e.buffers;return a.unshift(s),a}}function Gs(i){return Object.prototype.toString.call(i)==="[object Object]"}class xn extends M{constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const s=e.type===N.BINARY_EVENT;s||e.type===N.BINARY_ACK?(e.type=s?N.EVENT:N.ACK,this.reconstructor=new id(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(Dn(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(N[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===N.BINARY_EVENT||s.type===N.BINARY_ACK){const h=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);const u=t.substring(h,e);if(u!=Number(u)||t.charAt(e)!=="-")throw new Error("Illegal attachments");s.attachments=Number(u)}if(t.charAt(e+1)==="/"){const h=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););s.nsp=t.substring(h,e)}else s.nsp="/";const a=t.charAt(e+1);if(a!==""&&Number(a)==a){const h=e+1;for(;++e;){const u=t.charAt(e);if(u==null||Number(u)!=u){--e;break}if(e===t.length)break}s.id=Number(t.substring(h,e+1))}if(t.charAt(++e)){const h=this.tryParse(t.substr(e));if(xn.isPayloadValid(s.type,h))s.data=h;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case N.CONNECT:return Gs(e);case N.DISCONNECT:return e===void 0;case N.CONNECT_ERROR:return typeof e=="string"||Gs(e);case N.EVENT:case N.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&ed.indexOf(e[0])===-1);case N.ACK:case N.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class id{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=td(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const rd=Object.freeze(Object.defineProperty({__proto__:null,Decoder:xn,Encoder:sd,get PacketType(){return N},protocol:nd},Symbol.toStringTag,{value:"Module"}));function Q(i,t,e){return i.on(t,e),function(){i.off(t,e)}}const od=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ji extends M{constructor(t,e,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Q(t,"open",this.onopen.bind(this)),Q(t,"packet",this.onpacket.bind(this)),Q(t,"error",this.onerror.bind(this)),Q(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(od.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const s={type:N.EVENT,data:e};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){const u=this.ids++,d=e.pop();this._registerAckCallback(u,d),s.id=u}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,e){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=e;return}const h=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===t&&this.sendBuffer.splice(d,1);e.call(this,new Error("operation has timed out"))},a),u=(...d)=>{this.io.clearTimeoutFn(h),e.apply(this,d)};u.withError=!0,this.acks[t]=u}emitWithAck(t,...e){return new Promise((s,a)=>{const h=(u,d)=>u?a(u):s(d);h.withError=!0,e.push(h),this.emit(t,...e)})}_addToQueue(t){let e;typeof t[t.length-1]=="function"&&(e=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...h)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(a)):(this._queue.shift(),e&&e(null,...h)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:N.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case N.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case N.EVENT:case N.BINARY_EVENT:this.onevent(t);break;case N.ACK:case N.BINARY_ACK:this.onack(t);break;case N.DISCONNECT:this.ondisconnect();break;case N.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const e=t.data||[];t.id!=null&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const s of e)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let s=!1;return function(...a){s||(s=!0,e.packet({type:N.ACK,id:t,data:a}))}}onack(t){const e=this.acks[t.id];typeof e=="function"&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:N.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const s of e)s.apply(this,t.data)}}}function jt(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}jt.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*i);i=Math.floor(t*10)&1?i+e:i-e}return Math.min(i,this.max)|0};jt.prototype.reset=function(){this.attempts=0};jt.prototype.setMin=function(i){this.ms=i};jt.prototype.setMax=function(i){this.max=i};jt.prototype.setJitter=function(i){this.jitter=i};class En extends M{constructor(t,e){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,xe(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((s=e.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new jt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;const a=e.parser||rd;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Xi(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Q(e,"open",function(){s.onopen(),t&&t()}),h=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},u=Q(e,"error",h);if(this._timeout!==!1){const d=this._timeout,_=this.setTimeoutFn(()=>{a(),h(new Error("timeout")),e.close()},d);this.opts.autoUnref&&_.unref(),this.subs.push(()=>{this.clearTimeoutFn(_)})}return this.subs.push(a),this.subs.push(u),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Q(t,"ping",this.onping.bind(this)),Q(t,"data",this.ondata.bind(this)),Q(t,"error",this.onerror.bind(this)),Q(t,"close",this.onclose.bind(this)),Q(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){Rn(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new Ji(this,t,e),this.nsps[t]=s),s}_destroy(t){const e=Object.keys(this.nsps);for(const s of e)if(this.nsps[s].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let s=0;s<e.length;s++)this.engine.write(e[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},e);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Yt={};function we(i,t){typeof i=="object"&&(t=i,i=void 0),t=t||{};const e=Yf(i,t.path||"/socket.io"),s=e.source,a=e.id,h=e.path,u=Yt[a]&&h in Yt[a].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||u;let _;return d?_=new En(s,t):(Yt[a]||(Yt[a]=new En(s,t)),_=Yt[a]),e.query&&!t.query&&(t.query=e.queryKey),_.socket(e.path,t)}Object.assign(we,{Manager:En,Socket:Ji,io:we,connect:we});window.Pusher=Mi;window.Echo=new xi({broadcaster:"reverb",key:"pjakhtjyxbjmwuhvceru",wsHost:"127.0.0.1",wsPort:"8080",wssPort:"8080",forceTLS:!1,enabledTransports:["ws","wss"]});window.axios=Va;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.Pusher=Mi;window.Echo=new xi({broadcaster:"reverb",key:"pjakhtjyxbjmwuhvceru",wsHost:"127.0.0.1",wsPort:"8080",wssPort:"8080",forceTLS:!1,enabledTransports:["ws","wss"],withoutInterceptors:!0});window.socket=we("http://172.104.46.120:8081");window.socket.on("connect",()=>{});
